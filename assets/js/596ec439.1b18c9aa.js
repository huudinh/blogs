"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[5127],{2634:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"react-native/react-native-login/axios","title":"Request API b\u1eb1ng Axios","description":"Vi\u1ec7c s\u1eed d\u1ee5ng Axios \u0111\u1ec3 request API trong React Native l\xe0 m\u1ed9t l\u1ef1a ch\u1ecdn ph\u1ed5 bi\u1ebfn v\xe0 c\u1ef1c k\u1ef3 h\u1eefu \xedch, \u0111\u1eb7c bi\u1ec7t khi b\u1ea1n mu\u1ed1n x\xe2y d\u1ef1ng \u1ee9ng d\u1ee5ng c\xf3 kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\xe1c v\u1edbi server ho\u1eb7c d\u1ecbch v\u1ee5 b\xean ngo\xe0i","source":"@site/docs/react-native/react-native-login/5-axios.md","sourceDirName":"react-native/react-native-login","slug":"/react-native/react-native-login/axios","permalink":"/blogs/docs/react-native/react-native-login/axios","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/react-native/react-native-login/5-axios.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"reactNativeSidebar","previous":{"title":"Backend v\u1edbi NextJS","permalink":"/blogs/docs/react-native/react-native-login/nextjs"},"next":{"title":"X\xe2y d\u1ef1ng ch\u1ee9c n\u0103ng Logout","permalink":"/blogs/docs/react-native/react-native-login/logout"}}');var i=r(4848),s=r(8453);const a={sidebar_position:5},o="Request API b\u1eb1ng Axios",c={},l=[{value:"I. M\u1ee5c ti\xeau",id:"i-m\u1ee5c-ti\xeau",level:2},{value:"II. Code Project",id:"ii-code-project",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"1. C\xe1ch d\xf9ng Axios \u0111\u1ec3 \u0111\u1ecdc API trong React Native",id:"1-c\xe1ch-d\xf9ng-axios-\u0111\u1ec3-\u0111\u1ecdc-api-trong-react-native",level:3},{value:"2. React Native c\xf3 th\u1ec3 truy c\u1eadp localhost c\u1ee7a m\xe1y t\xednh kh\xf4ng",id:"2-react-native-c\xf3-th\u1ec3-truy-c\u1eadp-localhost-c\u1ee7a-m\xe1y-t\xednh-kh\xf4ng",level:3},{value:"3. array.find(...) c\xf3 ph\u1ea3i l\xe0 ph\u01b0\u01a1ng th\u1ee9c c\u1ee7a React Native kh\xf4ng?",id:"3-arrayfind-c\xf3-ph\u1ea3i-l\xe0-ph\u01b0\u01a1ng-th\u1ee9c-c\u1ee7a-react-native-kh\xf4ng",level:3}];function h(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...n.components},{ToggleTOC:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"request-api-b\u1eb1ng-axios",children:"Request API b\u1eb1ng Axios"})}),"\n",(0,i.jsx)(e.p,{children:"Vi\u1ec7c s\u1eed d\u1ee5ng Axios \u0111\u1ec3 request API trong React Native l\xe0 m\u1ed9t l\u1ef1a ch\u1ecdn ph\u1ed5 bi\u1ebfn v\xe0 c\u1ef1c k\u1ef3 h\u1eefu \xedch, \u0111\u1eb7c bi\u1ec7t khi b\u1ea1n mu\u1ed1n x\xe2y d\u1ef1ng \u1ee9ng d\u1ee5ng c\xf3 kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\xe1c v\u1edbi server ho\u1eb7c d\u1ecbch v\u1ee5 b\xean ngo\xe0i"}),"\n",(0,i.jsx)(r,{}),"\n",(0,i.jsx)(e.h2,{id:"i-m\u1ee5c-ti\xeau",children:"I. M\u1ee5c ti\xeau"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Hi\u1ec3u c\xe1c d\xf9ng Axios \u0111\u1ec3 \u0111\u1ecdc API"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u0110\u1ecdc danh s\xe1ch ng\u01b0\u1eddi d\xf9ng t\u1eeb API"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Ki\u1ec3m tra xem user c\xf3 t\u1ed3n t\u1ea1i trong API kh\xf4ng"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"ii-code-project",children:"II. Code Project"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",metastring:'title="S\u1eeda file src/screens/login/index.js"',children:"import { StyleSheet, Text, View, TouchableOpacity, TextInput } from 'react-native';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useEffect, useState } from 'react';\r\nimport SysModal from '../../components/modal';\r\nimport axios from 'axios';\r\n\r\nconst LoginScreen = () => {\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd modal\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd vi\u1ec7c \u1ea9n/hi\u1ec7n m\u1eadt kh\u1ea9u\r\n    const [secure, setSecure] = useState(true);\r\n    const toggleSecure = () => setSecure(!secure);\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd username, password\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    \r\n    // Handle khi user nh\u1eadp username v\xe0 password\r\n    const handleUsernameChange = (text) => setUsername(text);\r\n    const handlePasswordChange = (text) => setPassword(text);\r\n\r\n    // \u0110\u1ecdc d\u1eef li\u1ec7u t\u1eeb API\r\n    const [data, setData] = useState(null);\r\n\r\n    useEffect(() => {\r\n      axios.get('http://10.196.61.148:3000/api/users')\r\n        .then(response => {\r\n          setData(response.data);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching data:', error);\r\n        });\r\n    }, []);\r\n\r\n    // Handle ng\u01b0\u1eddi dung khi click v\xe0o login\r\n    const handleLogin = () => {\r\n        // Validate\r\n        if(!username || !password) {\r\n            setModalVisible(true);\r\n            setMessage('Xin h\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin');\r\n            return;\r\n        }\r\n\r\n        // Ki\u1ec3m tra xem user c\xf3 t\u1ed3n t\u1ea1i trong data kh\xf4ng\r\n        const user = data.find(\r\n          u => u.username === username && u.password === password\r\n        );\r\n        setModalVisible(true);\r\n\r\n        if (user) {\r\n          setMessage(`Ch\xe0o ${user.fullName}, b\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp th\xe0nh c\xf4ng!`);\r\n        } else {\r\n          setMessage('Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u.');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n        <View style={styles.border}>\r\n            <View style={styles.main}>\r\n            <View style={styles.header}>\r\n                <Text style={styles.title}>Login</Text>\r\n            </View>\r\n            <View style={styles.body}>\r\n                <View style={styles.bodyTop}>\r\n                <View style={styles.inputBox}>\r\n                    <Text>Username</Text>\r\n                    <View style={styles.inputRow}>\r\n                        <AntDesign name=\"user\" size={24} color=\"black\" />\r\n                        <TextInput \r\n                        style={styles.inputText} \r\n                        placeholder='Type your username'\r\n                        value={username}\r\n                        onChangeText={handleUsernameChange}\r\n                        />\r\n                    </View>\r\n                </View>\r\n                <View style={styles.inputBox}>\r\n                    <Text>Password</Text>\r\n                    <View style={styles.inputRow}>\r\n                        <AntDesign name=\"lock\" size={24} color=\"black\" />\r\n                        <TextInput \r\n                            style={styles.inputText} \r\n                            placeholder='Type your password'\r\n                            secureTextEntry={secure}\r\n                            value={password}\r\n                            onChangeText={handlePasswordChange}\r\n                        />\r\n                        <TouchableOpacity onPress={toggleSecure}>\r\n                        <Text>{secure ? '\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f' : '\ud83d\udc41\ufe0f'}</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View >\r\n                <View style={styles.loginBox}>\r\n                    <TouchableOpacity \r\n                        style={styles.loginTouch} \r\n                        activeOpacity={0.5}\r\n                        onPress={handleLogin}\r\n                    >\r\n                    <LinearGradient\r\n                        colors={['#4c669f', '#3b5998', '#192f6a']}\r\n                        start={{ x: 0, y: 0 }}\r\n                        end={{ x: 1, y: 1 }}\r\n                        style={styles.loginGradient}\r\n                    >\r\n                        <Text style={styles.loginText}>Login</Text>\r\n                    </LinearGradient>\r\n                    </TouchableOpacity>\r\n                </View>\r\n                </View>\r\n            </View>\r\n            <SysModal \r\n                modalVisible={modalVisible}\r\n                setModalVisible={setModalVisible}\r\n                message={message}\r\n            />\r\n            <View style={styles.footer}>\r\n                <Text style={styles.footerText}>Or Sign Up Using</Text>\r\n                <TouchableOpacity>\r\n                <Text>SIGN UP</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n            </View>\r\n        </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default LoginScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#3498D8',\r\n  },\r\n  border:{\r\n    backgroundColor: '#fff',\r\n    margin: 10,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 30,\r\n  },\r\n  title: {\r\n    fontSize: 30,\r\n    fontWeight: 'bold',\r\n  },\r\n  main: {\r\n    marginVertical: 40,\r\n    flex: 1,\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  body: {\r\n    flex: 6,\r\n  },\r\n  bodyTop: {\r\n    margin: 30,\r\n  },\r\n  inputBox: {\r\n    marginVertical: 10,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderBottomColor: '#ccc',\r\n    borderBottomWidth: 1,\r\n  },\r\n  loginBox: {\r\n    alignItems: 'center',\r\n    marginVertical: 20,\r\n  },\r\n  loginTouch: {\r\n    width: '100%',\r\n  },\r\n  loginGradient:{\r\n    padding: 10,\r\n    width: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    borderRadius: 30,\r\n  },\r\n  loginText: {\r\n    color: '#fff', \r\n    fontWeight: 'bold',\r\n  },\r\n  inputText:{\r\n    flex: 1,\r\n  },\r\n  bodyBottom: {\r\n    flex: 6,\r\n  },\r\n  footer: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  footerText: {\r\n    padding: 20,\r\n    color: '#777',\r\n  },\r\n});\r\n\n"})}),"\n",(0,i.jsx)(e.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"1-c\xe1ch-d\xf9ng-axios-\u0111\u1ec3-\u0111\u1ecdc-api-trong-react-native",children:"1. C\xe1ch d\xf9ng Axios \u0111\u1ec3 \u0111\u1ecdc API trong React Native"}),"\n",(0,i.jsxs)(e.p,{children:["C\xe0i \u0111\u1eb7t th\u01b0 vi\u1ec7n ",(0,i.jsx)(e.code,{children:"npm install axios"})]}),"\n",(0,i.jsx)(e.p,{children:"Code \u0111\u1ecdc API"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"  import axios from 'axios';\r\n\r\n  useEffect(() => {\r\n    axios.get('https://jsonplaceholder.typicode.com/posts/1')\r\n      .then((res) => setData(res.data))\r\n      .catch((err) => console.error(err));\r\n  }, []);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-react-native-c\xf3-th\u1ec3-truy-c\u1eadp-localhost-c\u1ee7a-m\xe1y-t\xednh-kh\xf4ng",children:"2. React Native c\xf3 th\u1ec3 truy c\u1eadp localhost c\u1ee7a m\xe1y t\xednh kh\xf4ng"}),"\n",(0,i.jsx)(e.p,{children:"Trong React Native th\u01b0\u1eddng l\xe0 do React Native kh\xf4ng th\u1ec3 truy c\u1eadp localhost c\u1ee7a m\xe1y t\xednh nh\u01b0 tr\xecnh duy\u1ec7t web c\xf3 th\u1ec3. \u0110\xe2y l\xe0 m\u1ed9t v\u1ea5n \u0111\u1ec1 ph\u1ed5 bi\u1ebfn khi ph\xe1t tri\u1ec3n \u1ee9ng d\u1ee5ng di \u0111\u1ed9ng."}),"\n",(0,i.jsx)(e.p,{children:"Thay v\xec d\xf9ng localhost, h\xe3y d\xf9ng \u0111\u1ecba ch\u1ec9 IP n\u1ed9i b\u1ed9 c\u1ee7a m\xe1y t\xednh \u0111ang ch\u1ea1y server. V\xed d\u1ee5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"axios.get('http://192.168.1.100:3000/api/users')\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u0110\u1ec3 t\xecm \u0111\u1ecba ch\u1ec9 IP c\u1ee7a m\xe1y t\xednh:"}),"\n",(0,i.jsx)(e.p,{children:"Tr\xean macOS: System Preferences > Network"}),"\n",(0,i.jsx)(e.p,{children:"Tr\xean Windows: Ch\u1ea1y ipconfig trong Command Prompt"}),"\n",(0,i.jsx)(e.h3,{id:"3-arrayfind-c\xf3-ph\u1ea3i-l\xe0-ph\u01b0\u01a1ng-th\u1ee9c-c\u1ee7a-react-native-kh\xf4ng",children:"3. array.find(...) c\xf3 ph\u1ea3i l\xe0 ph\u01b0\u01a1ng th\u1ee9c c\u1ee7a React Native kh\xf4ng?"}),"\n",(0,i.jsx)(e.p,{children:"Kh\xf4ng ph\u1ea3i \u0111\xe2u \u2014 array.find(...) kh\xf4ng ph\u1ea3i l\xe0 ph\u01b0\u01a1ng th\u1ee9c c\u1ee7a React Native, m\xe0 l\xe0 c\u1ee7a JavaScript."}),"\n",(0,i.jsx)(e.p,{children:".find() l\xe0 m\u1ed9t ph\u01b0\u01a1ng th\u1ee9c c\u1ee7a m\u1ea3ng (Array method) trong JavaScript, d\xf9ng \u0111\u1ec3 t\xecm ph\u1ea7n t\u1eed \u0111\u1ea7u ti\xean trong m\u1ea3ng th\u1ecfa m\xe3n m\u1ed9t \u0111i\u1ec1u ki\u1ec7n n\xe0o \u0111\xf3."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"array.find(callback)\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"array"}),": l\xe0 m\u1ea3ng b\u1ea1n mu\u1ed1n t\xecm ki\u1ebfm."]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"callback"}),": l\xe0 m\u1ed9t h\xe0m ki\u1ec3m tra t\u1eebng ph\u1ea7n t\u1eed trong m\u1ea3ng. N\u1ebfu h\xe0m n\xe0y tr\u1ea3 v\u1ec1 true, ",(0,i.jsx)(e.code,{children:".find()"})," s\u1ebd tr\u1ea3 v\u1ec1 ph\u1ea7n t\u1eed \u0111\xf3 ngay l\u1eadp t\u1ee9c v\xe0 d\u1eebng l\u1ea1i."]}),"\n",(0,i.jsxs)(e.p,{children:["N\u1ebfu kh\xf4ng c\xf3 ph\u1ea7n t\u1eed n\xe0o th\u1ecfa m\xe3n, n\xf3 s\u1ebd tr\u1ea3 v\u1ec1 ",(0,i.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,i.jsx)(e.p,{children:".find() ch\u1ec9 tr\u1ea3 v\u1ec1 m\u1ed9t ph\u1ea7n t\u1eed duy nh\u1ea5t \u2014 ph\u1ea7n t\u1eed \u0111\u1ea7u ti\xean th\u1ecfa m\xe3n \u0111i\u1ec1u ki\u1ec7n."}),"\n",(0,i.jsx)(e.p,{children:"N\u1ebfu b\u1ea1n mu\u1ed1n t\xecm t\u1ea5t c\u1ea3 c\xe1c ph\u1ea7n t\u1eed th\u1ecfa m\xe3n, h\xe3y d\xf9ng .filter() thay v\xec .find()"})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>o});var t=r(6540);const i={},s=t.createContext(i);function a(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);