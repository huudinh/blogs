"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[2217],{5983:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"react-native/app-login/user-info","title":"X\xe2y d\u1ef1ng m\xe0n h\xecnh UserInfo","description":"Khi click v\xe0o Change Profile s\u1ebd xu\u1ea5t hi\u1ec7n modal gi\xfap update l\u1ea1i th\xf4ng tin c\u1ee7a User \u0111\xf3","source":"@site/docs/react-native/app-login/11-user-info.md","sourceDirName":"react-native/app-login","slug":"/react-native/app-login/user-info","permalink":"/blogs/docs/react-native/app-login/user-info","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11},"sidebar":"reactNativeSidebar","previous":{"title":"X\xf3a ng\u01b0\u1eddi d\xf9ng v\xe0 Loading","permalink":"/blogs/docs/react-native/app-login/delete"},"next":{"title":"X\xe2y d\u1ef1ng m\xe0n h\xecnh Regist","permalink":"/blogs/docs/react-native/app-login/regist"}}');var s=r(4848),o=r(8453);const i={sidebar_position:11},a="X\xe2y d\u1ef1ng m\xe0n h\xecnh UserInfo",l={},c=[{value:"I. M\u1ee5c ti\xeau",id:"i-m\u1ee5c-ti\xeau",level:2},{value:"II. Code Project",id:"ii-code-project",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"1. Th\xeam Background trong React Native th\u1ebf n\xe0o?",id:"1-th\xeam-background-trong-react-native-th\u1ebf-n\xe0o",level:3},{value:"2. C\xe1ch \xe1p d\u1ee5ng nhi\u1ec1u style (gi\u1ed1ng nh\u01b0 nhi\u1ec1u class) trong React Native th\u1ebf n\xe0o?",id:"2-c\xe1ch-\xe1p-d\u1ee5ng-nhi\u1ec1u-style-gi\u1ed1ng-nh\u01b0-nhi\u1ec1u-class-trong-react-native-th\u1ebf-n\xe0o",level:3},{value:"3. T\u1ea1i sao TextInput lu\xf4n lu\xf4n l\xe0 string",id:"3-t\u1ea1i-sao-textinput-lu\xf4n-lu\xf4n-l\xe0-string",level:3},{value:"4. C\xe1ch t\u1ea1o select trong React Native",id:"4-c\xe1ch-t\u1ea1o-select-trong-react-native",level:3},{value:"5. C\xe1c b\u01b0\u1edbc \u0111\u1ec3 s\u1eeda th\xf4ng tin c\xe1 nh\xe2n khi click v\xe0o Change Profile?",id:"5-c\xe1c-b\u01b0\u1edbc-\u0111\u1ec3-s\u1eeda-th\xf4ng-tin-c\xe1-nh\xe2n-khi-click-v\xe0o-change-profile",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components},{ToggleTOC:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"x\xe2y-d\u1ef1ng-m\xe0n-h\xecnh-userinfo",children:"X\xe2y d\u1ef1ng m\xe0n h\xecnh UserInfo"})}),"\n",(0,s.jsx)(e.p,{children:"Khi click v\xe0o Change Profile s\u1ebd xu\u1ea5t hi\u1ec7n modal gi\xfap update l\u1ea1i th\xf4ng tin c\u1ee7a User \u0111\xf3"}),"\n",(0,s.jsx)(r,{}),"\n",(0,s.jsx)(e.h2,{id:"i-m\u1ee5c-ti\xeau",children:"I. M\u1ee5c ti\xeau"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Th\xeam Background cho User"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Hi\u1ec3n th\u1ecb h\xecnh \u1ea3nh Profile c\u1ee7a User t\u01b0\u01a1ng \u1ee9ng"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Th\xeam ch\u1ee9c n\u0103ng s\u1eeda th\xf4ng tin c\xe1 nh\xe2n khi click v\xe0o Change Profile"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"C\u1ea5u tr\xfac l\u1ea1i Modal \u0111\u1ec3 v\u1eeba th\u1ec3 hi\u1ec7n \u0111\u01b0\u1ee3c th\xf4ng b\xe1o v\u1eeba c\xf3 th\u1ec3 hi\u1ec3n th\u1ecb \u0111\u01b0\u1ee3c giao di\u1ec7n update Profile"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"ii-code-project",children:"II. Code Project"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",metastring:'title="1. S\u1eeda file src/screens/user_info/index.jsx"',children:"import AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ImageBackground, Image } from 'react-native';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport SysModal from '../../components/modal';\r\n\r\nconst UserInfo = () => {\r\n    const navigation = useNavigation();\r\n    const [userInfo, setUserInfo] = useState('');\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd modal\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        AsyncStorage.getItem('UserInfo')\r\n            .then(result => {\r\n                if (result){\r\n                    setUserInfo(JSON.parse(result));\r\n                }\r\n            });\r\n\r\n    }, [message, modalVisible]);\r\n\r\n    // Ph\u01b0\u01a1ng th\u1ee9c Logout\r\n    const handleLogout = () => {\r\n        // X\xf3a cache\r\n        AsyncStorage.clear();\r\n\r\n        // Chuy\u1ec3n \u0111\u1ebfn m\xe0n h\xecnh Login\r\n        navigation.replace('Login');\r\n    }\r\n\r\n    // S\u1eed l\xfd s\u1ef1 ki\u1ec7n Change Profile\r\n    const handleChangeProfile = () => {\r\n        setModalVisible(true);\r\n        setMessage({title:'Update Profile', content: 'update_profile'});\r\n    }\r\n\r\n    \r\n    const gender = userInfo.gender === 'male' ? 'boy' : 'girl';\r\n    const id = userInfo.id;\r\n    const photo = `https://avatar.iran.liara.run/public/${gender}?username=[${userInfo.id}]`\r\n    \r\n    return (\r\n        <ImageBackground \r\n            blurRadius={1}\r\n            style={styles.container}\r\n            source={{\r\n                uri: photo\r\n            }}\r\n        >\r\n            <View style={styles.background}>\r\n                <View style={styles.head}></View>\r\n                <View style={styles.body}>\r\n                    <View style={styles.avatar}>\r\n                        <Image \r\n                            style={styles.avatarImage}\r\n                            source={{\r\n                                uri: photo\r\n                            }}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.profile}>\r\n                        <Text style={styles.profileName}>{userInfo.fullName}</Text>\r\n                        <Text style={styles.profileAge}>{userInfo.age} year old</Text>\r\n                    </View>\r\n                    <View style={styles.info}>\r\n                        <View style={styles.infoTitle}>\r\n                            <Text style={styles.infoTitleText}>Options</Text>\r\n                        </View>\r\n                        <View style={[styles.infoDetail, styles.infoLine]}>\r\n                            <AntDesign name=\"lock\" size={20} color=\"black\" />\r\n                            <TouchableOpacity\r\n                                style={styles.infoFull}\r\n                                onPress={handleChangeProfile}\r\n                            >\r\n                                <Text>Change profile</Text>\r\n                            </TouchableOpacity>\r\n                            <AntDesign name=\"right\" size={24} color=\"black\" />\r\n                        </View>\r\n                        <View style={styles.infoDetail}>\r\n                            <AntDesign name=\"logout\" size={20} color=\"black\" />\r\n                            <TouchableOpacity \r\n                                style={styles.infoFull} \r\n                                onPress={handleLogout}\r\n                            >\r\n                                <Text>Logout</Text>\r\n                            </TouchableOpacity>\r\n                            <AntDesign name=\"right\" size={24} color=\"black\" />\r\n                        </View>\r\n                        <View style={styles.infoTitle}>\r\n                            <Text style={styles.infoTitleText}>User Infomation</Text>\r\n                        </View>\r\n                        <View style={[styles.infoDetail, styles.infoLine]}>\r\n                            <AntDesign name=\"idcard\" size={20} color=\"black\" />\r\n                            <Text>{userInfo.id}</Text>\r\n                        </View>\r\n                        <View style={[styles.infoDetail, styles.infoLine]}>\r\n                            <AntDesign name=\"user\" size={20} color=\"black\" />\r\n                            <Text>{userInfo.username}</Text>\r\n                        </View>\r\n                        \r\n                        <View style={styles.infoDetail}>\r\n                            <AntDesign name=\"filter\" size={20} color=\"black\" />\r\n                            <Text>{userInfo.gender}</Text>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n                <SysModal \r\n                    modalVisible={modalVisible}\r\n                    setModalVisible={setModalVisible}\r\n                    message={message}\r\n                />\r\n            </View>\r\n        </ImageBackground>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        marginTop: -40,\r\n    },\r\n    background:{\r\n        flex:1,\r\n        backgroundColor: 'rgba(0,0,0,.3)'\r\n    },\r\n    head:{\r\n        flex: 1\r\n    },\r\n    body:{\r\n        flex: 2,\r\n        backgroundColor: 'white',\r\n        borderTopLeftRadius: 20,\r\n        borderTopRightRadius: 20,\r\n    },\r\n    avatar:{\r\n        position: 'absolute',\r\n        top: -50,\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    avatarImage: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 50,\r\n        borderWidth: 5,\r\n        borderColor: '#fff',\r\n    },\r\n    profile: {\r\n        marginTop: 60,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    profileName:{\r\n        fontWeight: 'bold',\r\n        fontSize: 20,\r\n        color: '#192f6a'\r\n    },\r\n    profileAge:{\r\n        color: '#666'\r\n    },\r\n    info:{\r\n        flex: 1,\r\n        marginTop: 10,\r\n        padding: 10,\r\n    },\r\n    infoTitle: {\r\n        backgroundColor: '#192f6a',\r\n        borderRadius: 10,\r\n    },\r\n    infoTitleText: {\r\n        color: '#fff',\r\n        padding: 10,\r\n        fontWeight: 'bold',\r\n    },\r\n    infoDetail: {\r\n        padding: 10,\r\n        fontWeight: 'bold',\r\n        marginLeft: 5,\r\n        marginRight: 5,\r\n        flexDirection: 'row',\r\n        gap: 20,\r\n    },\r\n    infoLine:{\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#192f6a',\r\n    },\r\n    infoFull:{\r\n        flex:1,\r\n    }\r\n});\r\n\r\nexport default UserInfo;\r\n\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",metastring:'title="2. S\u1eeda file src/components/modal.js"',children:"import { View, Text, Modal, StyleSheet, TextInput, Button } from 'react-native';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport { useEffect, useState } from 'react';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport RNPickerSelect from 'react-native-picker-select';\r\nimport { updateUser } from './api';\r\n\r\nconst SysModal = (props) => {\r\n    const { modalVisible, setModalVisible, message } = props;\r\n    const [userInfo, setUserInfo] = useState({\r\n        fullName: '',\r\n        gender: '',\r\n        age: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        AsyncStorage.getItem('UserInfo')\r\n            .then(result => {\r\n                if (result){\r\n                    setUserInfo(JSON.parse(result));\r\n                }\r\n            });\r\n\r\n    }, []);\r\n\r\n    const handleSave = () => {\r\n        console.log('Profile updated:', userInfo);\r\n        setModalVisible(false);\r\n\r\n        // L\u01b0u th\xf4ng tin v\xe0o Storage\r\n        AsyncStorage.setItem('UserInfo', JSON.stringify(userInfo));\r\n\r\n        // L\u01b0u th\xf4ng tin v\xe0o API\r\n        updateUser(userInfo)\r\n            .then(response => {\r\n                console.log(response.data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching data:', error);\r\n            });\r\n    };\r\n\r\n    const renderBody = () => {\r\n        if (message.content === 'update_profile') {\r\n            return (\r\n                <View style={styles.form}>\r\n                    <TextInput\r\n                        style={styles.input}\r\n                        placeholder=\"T\xean\"\r\n                        value={userInfo.fullName}\r\n                        onChangeText={(text) => setUserInfo({ ...userInfo, fullName: text })}\r\n                    />\r\n                    <TextInput\r\n                        style={styles.input}\r\n                        placeholder=\"Tu\u1ed5i\"\r\n                        keyboardType=\"numeric\"\r\n                        value={String(userInfo.age)}\r\n                        onChangeText={(text) => setUserInfo({ ...userInfo, age: text })}\r\n                    />\r\n                    <RNPickerSelect\r\n                        value={String(userInfo.gender)} // gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh t\u1eeb state\r\n                        onValueChange={(value) => setUserInfo({ ...userInfo, gender: value })}\r\n                        items={[\r\n                            { label: 'Nam', value: 'male' },\r\n                            { label: 'N\u1eef', value: 'female' },\r\n                        ]}\r\n                        placeholder={{ label: 'Ch\u1ecdn gi\u1edbi t\xednh', value: null }}\r\n                    />\r\n                    <Button title=\"L\u01b0u thay \u0111\u1ed5i\" onPress={handleSave} />\r\n                </View>\r\n            );\r\n        } else {\r\n            return (\r\n                <Text style={styles.bodyText}>{message.content}</Text>\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                animationType=\"slide\"\r\n                transparent={true}\r\n                visible={modalVisible}\r\n            >\r\n                <View style={styles.container}>\r\n                    <View style={styles.modalBox}>\r\n                        <View style={styles.header}>\r\n                            <Text style={styles.headerText}>{message.title}</Text>\r\n                            <AntDesign \r\n                                name=\"close\" size={14} color=\"black\" \r\n                                onPress={() => setModalVisible(false)}\r\n                            />\r\n                        </View>\r\n                        <View style={styles.body} >\r\n                             {renderBody()}\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 20,\r\n    },\r\n    modalBox: {\r\n        backgroundColor: '#fff',\r\n        width: '100%',\r\n        borderRadius: 10,\r\n        padding: 20,\r\n        marginTop:'-30%',\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        paddingBottom: 10,\r\n        justifyContent: 'space-between',\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n        alignItems: 'center',\r\n    },\r\n    headerText: {\r\n        fontWeight: 'bold',\r\n        fontSize: 18,\r\n    },\r\n    body:{\r\n        paddingVertical: 20,\r\n    },\r\n    bodyText: {\r\n        fontSize: 16,\r\n        color: '#666',\r\n    },\r\n    form: {\r\n        gap: 10,\r\n    },\r\n    input: {\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n        borderRadius: 6,\r\n        paddingTop: 10,\r\n        paddingBottom: 10,\r\n        fontSize: 16,\r\n    },\r\n   \r\n});\r\n\r\nexport default SysModal;\r\n\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",metastring:'title="3. S\u1eeda file src/screens/login/index.js"',children:"import { StyleSheet, Text, View, TouchableOpacity, TextInput } from 'react-native';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useEffect, useState } from 'react';\r\nimport SysModal from '../../components/modal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { getUser } from '../../components/api';\r\n\r\nconst LoginScreen = () => {\r\n    const navigation = useNavigation();\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd modal\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [message, setMessage] = useState({});\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd vi\u1ec7c \u1ea9n/hi\u1ec7n m\u1eadt kh\u1ea9u\r\n    const [secure, setSecure] = useState(true);\r\n    const toggleSecure = () => setSecure(!secure);\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd username, password\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    \r\n    // Handle khi user nh\u1eadp username v\xe0 password\r\n    const handleUsernameChange = (text) => setUsername(text);\r\n    const handlePasswordChange = (text) => setPassword(text);\r\n\r\n    // \u0110\u1ecdc d\u1eef li\u1ec7u t\u1eeb API\r\n    const [data, setData] = useState(null);\r\n\r\n    useEffect(() => {\r\n      getUser()\r\n        .then(response => {\r\n          setData(response.data);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching data:', error);\r\n        });\r\n    }, []);\r\n\r\n    // Handle ng\u01b0\u1eddi dung khi click v\xe0o login\r\n    const handleLogin = () => {\r\n        // Validate\r\n        if(!username || !password) {\r\n            setModalVisible(true);\r\n            setMessage({title:'L\u1ed7i nh\u1eadp li\u1ec7u', content: 'Xin h\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin'});\r\n            return;\r\n        }\r\n\r\n        // Ki\u1ec3m tra xem data c\xf3 d\u1eef li\u1ec7u kh\xf4ng\r\n        if (!data || data.length === 0) {\r\n          setModalVisible(true);\r\n          setMessage({title: 'Th\xf4ng b\xe1o', content: 'L\u1ed7i k\u1ebft n\u1ed1i Database'});\r\n          return;\r\n        }\r\n\r\n        // Ki\u1ec3m tra xem user c\xf3 t\u1ed3n t\u1ea1i trong data kh\xf4ng\r\n        const user = data.find(\r\n          u => u.username === username && u.password === password\r\n        );\r\n\r\n        if (user) {\r\n          // L\u01b0u th\xf4ng tin User v\xe0o AsyncStorage\r\n          AsyncStorage.setItem('UserInfo', JSON.stringify(user));\r\n\r\n          // L\u01b0u danh s\xe1ch User v\xe0o AsyncStorage\r\n          AsyncStorage.setItem('UserList', JSON.stringify(data));\r\n\r\n          // Chuy\u1ec3n h\u01b0\u1edbng sang trang ch\u1ee7\r\n          navigation.navigate('Home');\r\n          \r\n        } else {\r\n          setModalVisible(true);\r\n          setMessage({title: 'L\u1ed7i \u0111\u0103ng nh\u1eadp', content: 'Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u.'});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n        <View style={styles.border}>\r\n            <View style={styles.main}>\r\n            <View style={styles.header}>\r\n                <Text style={styles.title}>Login</Text>\r\n            </View>\r\n            <View style={styles.body}>\r\n                <View style={styles.bodyTop}>\r\n                <View style={styles.inputBox}>\r\n                    <Text>Username</Text>\r\n                    <View style={styles.inputRow}>\r\n                        <AntDesign name=\"user\" size={24} color=\"black\" />\r\n                        <TextInput \r\n                        style={styles.inputText} \r\n                        placeholder='Type your username'\r\n                        value={username}\r\n                        onChangeText={handleUsernameChange}\r\n                        />\r\n                    </View>\r\n                </View>\r\n                <View style={styles.inputBox}>\r\n                    <Text>Password</Text>\r\n                    <View style={styles.inputRow}>\r\n                        <AntDesign name=\"lock\" size={24} color=\"black\" />\r\n                        <TextInput \r\n                            style={styles.inputText} \r\n                            placeholder='Type your password'\r\n                            secureTextEntry={secure}\r\n                            value={password}\r\n                            onChangeText={handlePasswordChange}\r\n                        />\r\n                        <TouchableOpacity onPress={toggleSecure}>\r\n                        <Text>{secure ? '\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f' : '\ud83d\udc41\ufe0f'}</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View >\r\n                <View style={styles.loginBox}>\r\n                    <TouchableOpacity \r\n                        style={styles.loginTouch} \r\n                        activeOpacity={0.5}\r\n                        onPress={handleLogin}\r\n                    >\r\n                    <LinearGradient\r\n                        colors={['#4c669f', '#3b5998', '#192f6a']}\r\n                        start={{ x: 0, y: 0 }}\r\n                        end={{ x: 1, y: 1 }}\r\n                        style={styles.loginGradient}\r\n                    >\r\n                        <Text style={styles.loginText}>Login</Text>\r\n                    </LinearGradient>\r\n                    </TouchableOpacity>\r\n                </View>\r\n                </View>\r\n            </View>\r\n            <SysModal \r\n                modalVisible={modalVisible}\r\n                setModalVisible={setModalVisible}\r\n                message={message}\r\n            />\r\n            <View style={styles.footer}>\r\n                <Text style={styles.footerText}>Or Sign Up Using</Text>\r\n                <TouchableOpacity>\r\n                <Text>SIGN UP</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n            </View>\r\n        </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default LoginScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#3498D8',\r\n  },\r\n  border:{\r\n    backgroundColor: '#fff',\r\n    margin: 10,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 30,\r\n  },\r\n  title: {\r\n    fontSize: 30,\r\n    fontWeight: 'bold',\r\n  },\r\n  main: {\r\n    marginVertical: 40,\r\n    flex: 1,\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  body: {\r\n    flex: 6,\r\n  },\r\n  bodyTop: {\r\n    margin: 30,\r\n  },\r\n  inputBox: {\r\n    marginVertical: 10,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderBottomColor: '#ccc',\r\n    borderBottomWidth: 1,\r\n  },\r\n  loginBox: {\r\n    alignItems: 'center',\r\n    marginVertical: 20,\r\n  },\r\n  loginTouch: {\r\n    width: '100%',\r\n  },\r\n  loginGradient:{\r\n    padding: 10,\r\n    width: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    borderRadius: 30,\r\n  },\r\n  loginText: {\r\n    color: '#fff', \r\n    fontWeight: 'bold',\r\n  },\r\n  inputText:{\r\n    flex: 1,\r\n  },\r\n  bodyBottom: {\r\n    flex: 6,\r\n  },\r\n  footer: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  footerText: {\r\n    padding: 20,\r\n    color: '#777',\r\n  },\r\n});\r\n\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",metastring:'title="4. S\u1eeda file src/screens/user_manage/index.js"',children:"import AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { View, Text, StyleSheet, FlatList, Image, TextInput, TouchableOpacity } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\nimport { deleteUser, getUser } from '../../components/api';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport SysModal from '../../components/modal';\r\nimport Loading from '../../components/Loading';\r\n\r\nconst UserManage = () => {\r\n    const [userList, setUserList] = useState([]);\r\n    const [keySearch, setKeySearch] = useState('');\r\n\r\n    // State \u0111\u1ec3 qu\u1ea3n l\xfd modal\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [message, setMessage] = useState({});\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleSearch = (text) => setKeySearch(text);\r\n\r\n    // Load danh s\xe1ch User t\u1eeb AsyncStorage khi component \u0111\u01b0\u1ee3c mount\r\n    useEffect(() => {\r\n        AsyncStorage.getItem('UserList')\r\n            .then( result => {\r\n                if (result) {\r\n                    setUserList(JSON.parse(result));\r\n                }\r\n            })\r\n    }, [message, modalVisible]);\r\n\r\n    // H\xe0m load l\u1ea1i d\u1eef li\u1ec7u t\u1eeb API\r\n    const getData = () => {\r\n        getUser()\r\n        .then(response => {\r\n            // L\u01b0u danh s\xe1ch User v\xe0o AsyncStorage\r\n            AsyncStorage.setItem('UserList', JSON.stringify(response.data));\r\n\r\n            // C\u1eadp nh\u1eadt l\u1ea1i danh sach User trong state\r\n            setUserList(response.data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error fetching data:', error);\r\n        });\r\n    }\r\n\r\n    // X\xf3a User theo ID\r\n    const handlerDelete = (id) => {\r\n        try {\r\n            setIsLoading(true);\r\n            setTimeout(()=>{\r\n                deleteUser(id)\r\n                .then(res => {\r\n                    setModalVisible(true);\r\n                    setIsLoading(false);\r\n                    setMessage({title:'Th\xf4ng b\xe1o', content: 'B\u1ea1n \u0111\xe3 x\xf3a th\xe0nh c\xf4ng User'});\r\n                    getData();\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching data:', error);\r\n                });\r\n            }, 3000);\r\n        } catch (error) {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <SysModal \r\n                modalVisible={modalVisible}\r\n                setModalVisible={setModalVisible}\r\n                message={message}\r\n            />\r\n            <Loading visible={isLoading} />\r\n            <View style={styles.title}>\r\n                <Text style={styles.titleText}>User Management</Text>\r\n            </View>\r\n            <View style={styles.search}>\r\n                <View style={styles.searchBox}>\r\n                    <TextInput \r\n                        style={styles.searchInput} \r\n                        placeholder='Enter your key Search' \r\n                        onChangeText={handleSearch} value={keySearch} />\r\n                    <AntDesign \r\n                        style={styles.searchIcon} \r\n                        name=\"search1\" size={20} color=\"black\" />\r\n                </View>\r\n            </View>\r\n            <FlatList \r\n                refreshing={false}\r\n                onRefresh={() => getData()}\r\n                data={userList.filter(\r\n                    user => user.fullName.toLowerCase().search(keySearch.toLowerCase()) > -1\r\n                )}\r\n                keyExtractor={user => user.id.toString()}\r\n                renderItem={({item: user}) => {\r\n                    const gender = user.gender === 'male' ? 'boy' : 'girl';\r\n                    return (\r\n                        <View style={styles.userItem}>\r\n                            <View> \r\n                                <Image \r\n                                    style={styles.userImage}\r\n                                    source={{\r\n                                        uri: `https://avatar.iran.liara.run/public/${gender}?username=[${user.id}]`\r\n                                    }} \r\n                                />\r\n                            </View>\r\n                            <View style={styles.userInfo}>\r\n                                <Text style={styles.userName}>{user.fullName} </Text>\r\n                                <Text>Age: {user.age} </Text>\r\n                            </View>\r\n                            <View>\r\n                                <TouchableOpacity \r\n                                    onPress={() => handlerDelete(user.id)}\r\n                                    style={styles.delete}>\r\n                                    <AntDesign name=\"delete\" size={20} color=\"white\" />\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </View>\r\n                    )\r\n                }}\r\n            />\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        paddingTop: 50,\r\n    },\r\n    title: {\r\n        padding: 10,\r\n    },\r\n    titleText: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n        color: '#192f6a',\r\n    },\r\n    search:{\r\n        padding: 10,\r\n    },\r\n    searchBox: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#fff',\r\n        borderRadius: 10,\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    searchInput: {\r\n        flex: 1,\r\n        marginLeft: 10,\r\n    },\r\n    searchIcon: {\r\n        padding: 10,\r\n    },\r\n    userItem: {\r\n        padding: 10,\r\n        borderRadius: 10,\r\n        backgroundColor: '#fff',\r\n        marginBottom: 10,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginHorizontal: 10,\r\n    },\r\n    userImage: {\r\n        width: 80,\r\n        height: 80,\r\n    },\r\n    userInfo: {\r\n        padding: 10,\r\n        flex: 1,\r\n    },\r\n    userName: {\r\n        fontSize: 16,\r\n        fontWeight: 'bold',\r\n        color: '#192f6a',\r\n        marginBottom: 5,\r\n    },\r\n    delete: {\r\n        backgroundColor: '#c00',\r\n        borderRadius: 5,\r\n        width:30,\r\n        height: 30,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    }\r\n});\r\n\r\nexport default UserManage;\r\n\n"})}),"\n",(0,s.jsx)(e.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"1-th\xeam-background-trong-react-native-th\u1ebf-n\xe0o",children:"1. Th\xeam Background trong React Native th\u1ebf n\xe0o?"}),"\n",(0,s.jsx)(e.p,{children:"\u0110\u1ec3 th\xeam background trong React Native, c\xe1ch ph\u1ed5 bi\u1ebfn nh\u1ea5t l\xe0 s\u1eed d\u1ee5ng component ImageBackground. N\xf3 cho ph\xe9p b\u1ea1n \u0111\u1eb7t h\xecnh n\u1ec1n v\xe0 ch\u1ed3ng c\xe1c th\xe0nh ph\u1ea7n kh\xe1c l\xean tr\xean."}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ImageBackground"})," c\u1ea7n c\xf3 width v\xe0 height ho\u1eb7c flex: 1 \u0111\u1ec3 hi\u1ec3n th\u1ecb \u0111\xfang."]}),"\n",(0,s.jsxs)(e.p,{children:["B\u1ea1n c\xf3 th\u1ec3 d\xf9ng \u1ea3nh t\u1eeb URL ho\u1eb7c t\u1eeb local file (",(0,s.jsx)(e.code,{children:"require()"}),")."]}),"\n",(0,s.jsxs)(e.p,{children:["N\u1ebfu mu\u1ed1n d\xf9ng m\xe0u n\u1ec1n thay v\xec \u1ea3nh, ch\u1ec9 c\u1ea7n d\xf9ng ",(0,s.jsx)(e.code,{children:"style={{ backgroundColor: 'green' }}"})," trong ",(0,s.jsx)(e.code,{children:"View"}),"."]}),"\n",(0,s.jsx)(e.h3,{id:"2-c\xe1ch-\xe1p-d\u1ee5ng-nhi\u1ec1u-style-gi\u1ed1ng-nh\u01b0-nhi\u1ec1u-class-trong-react-native-th\u1ebf-n\xe0o",children:"2. C\xe1ch \xe1p d\u1ee5ng nhi\u1ec1u style (gi\u1ed1ng nh\u01b0 nhi\u1ec1u class) trong React Native th\u1ebf n\xe0o?"}),"\n",(0,s.jsxs)(e.p,{children:['Trong React Native, b\u1ea1n kh\xf4ng d\xf9ng "class" nh\u01b0 trong HTML/CSS, m\xe0 d\xf9ng style v\u1edbi StyleSheet. N\u1ebfu b\u1ea1n mu\u1ed1n \xe1p d\u1ee5ng nhi\u1ec1u style (gi\u1ed1ng nh\u01b0 nhi\u1ec1u class) cho m\u1ed9t component nh\u01b0 ',(0,s.jsx)(e.code,{children:"<View>"}),", b\u1ea1n ch\u1ec9 c\u1ea7n truy\u1ec1n m\u1ed9t m\u1ea3ng c\xe1c style v\xe0o prop style."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",children:'<View style={[styles.infoDetail, styles.shadow]}>\r\n  <AntDesign name="filter" size={20} color="black" />\r\n  <Text>{userInfo.gender}</Text>\r\n</View>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"3-t\u1ea1i-sao-textinput-lu\xf4n-lu\xf4n-l\xe0-string",children:"3. T\u1ea1i sao TextInput lu\xf4n lu\xf4n l\xe0 string"}),"\n",(0,s.jsx)(e.p,{children:"B\u1ea3n ch\u1ea5t c\u1ee7a TextInput l\xe0 nh\u1eadp v\u0103n b\u1ea3n n\xean React Native c\u1ea7n value l\xe0 chu\u1ed7i \u0111\u1ec3 hi\u1ec3n th\u1ecb \u0111\xfang"}),"\n",(0,s.jsx)(e.h3,{id:"4-c\xe1ch-t\u1ea1o-select-trong-react-native",children:"4. C\xe1ch t\u1ea1o select trong React Native"}),"\n",(0,s.jsx)(e.p,{children:"C\xe0i th\u01b0 vi\u1ec7n react-native-picker-select"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install prop-types\r\nnpm install react-native-picker-select\n"})}),"\n",(0,s.jsx)(e.p,{children:"C\xe1ch hi\u1ec3n th\u1ecb Select trong component"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",children:"<RNPickerSelect\r\n    value={String(userInfo.gender)} // gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh t\u1eeb state\r\n    onValueChange={(value) => setUserInfo({ ...userInfo, gender: value })}\r\n    items={[\r\n        { label: 'Nam', value: 'male' },\r\n        { label: 'N\u1eef', value: 'female' },\r\n    ]}\r\n    placeholder={{ label: 'Ch\u1ecdn gi\u1edbi t\xednh', value: null }}\r\n/>\n"})}),"\n",(0,s.jsx)(e.h3,{id:"5-c\xe1c-b\u01b0\u1edbc-\u0111\u1ec3-s\u1eeda-th\xf4ng-tin-c\xe1-nh\xe2n-khi-click-v\xe0o-change-profile",children:"5. C\xe1c b\u01b0\u1edbc \u0111\u1ec3 s\u1eeda th\xf4ng tin c\xe1 nh\xe2n khi click v\xe0o Change Profile?"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"T\u1ea1o State \u0111\u1ec3 qu\u1ea3n l\xfd modal"}),"\n",(0,s.jsx)(e.li,{children:"S\u1eed l\xfd s\u1ef1 ki\u1ec7n Change Profile"}),"\n",(0,s.jsx)(e.li,{children:"Nh\xfang SysModal th\xeam modal v\xe0o UI"}),"\n",(0,s.jsx)(e.li,{children:"Th\xeam tr\u01b0\u1eddng h\u1ee3p giao di\u1ec7n Update cho Modal"}),"\n",(0,s.jsx)(e.li,{children:"Truy\u1ec1n th\xf4ng tin User c\u1ea7n update cho Modal"}),"\n",(0,s.jsx)(e.li,{children:"L\u01b0u th\xf4ng tin update v\xe0o Storage \u0111\u1ec3 c\u1eadp nh\u1eadt giao di\u1ec7n"}),"\n",(0,s.jsx)(e.li,{children:"L\u01b0u th\xf4ng tin update v\xe0o API"}),"\n"]})]})}function g(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>i,x:()=>a});var t=r(6540);const s={},o=t.createContext(s);function i(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);