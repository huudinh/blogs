"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[1331],{8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>h});var i=t(6540);const c={},r=i.createContext(c);function o(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function h(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:o(n.components),i.createElement(r.Provider,{value:e},n.children)}},8840:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>h,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"nextjs/basic/component","title":"Server/Client component","description":"Vi\u1ec7c chia t\xe1ch Server Component v\xe0 Client Component gi\xfap t\u1ed1i \u01b0u h\xf3a hi\u1ec7u su\u1ea5t, t\u0103ng c\u01b0\u1eddng kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\xe1c v\xe0 cung c\u1ea5p m\u1ed9t tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\xf9ng m\u1ea1nh m\u1ebd h\u01a1n","source":"@site/docs/nextjs/basic/004-component.md","sourceDirName":"nextjs/basic","slug":"/nextjs/basic/component","permalink":"/blogs/docs/nextjs/basic/component","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"nextjsSidebar","previous":{"title":"Render CSR, SSR","permalink":"/blogs/docs/nextjs/basic/render"},"next":{"title":"Routing","permalink":"/blogs/docs/nextjs/basic/routing"}}');var c=t(4848),r=t(8453);const o={sidebar_position:4},h="Server/Client component",s={},l=[{value:"I. Server component",id:"i-server-component",level:2},{value:"II. Client Component",id:"ii-client-component",level:2},{value:"III. Khi n\xe0o n\xean s\u1eed d\u1ee5ng",id:"iii-khi-n\xe0o-n\xean-s\u1eed-d\u1ee5ng",level:2},{value:"IV. T\u1ea1i sao l\u1ea1i chia t\xe1ch Server/Client Component",id:"iv-t\u1ea1i-sao-l\u1ea1i-chia-t\xe1ch-serverclient-component",level:2}];function g(n){const e={admonition:"admonition",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components},{ToggleTOC:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"serverclient-component",children:"Server/Client component"})}),"\n",(0,c.jsx)(e.p,{children:"Vi\u1ec7c chia t\xe1ch Server Component v\xe0 Client Component gi\xfap t\u1ed1i \u01b0u h\xf3a hi\u1ec7u su\u1ea5t, t\u0103ng c\u01b0\u1eddng kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\xe1c v\xe0 cung c\u1ea5p m\u1ed9t tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\xf9ng m\u1ea1nh m\u1ebd h\u01a1n"}),"\n",(0,c.jsx)(t,{}),"\n",(0,c.jsx)(e.h2,{id:"i-server-component",children:"I. Server component"}),"\n",(0,c.jsx)(e.p,{children:"Server Component c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c hi\u1ec3u l\xe0 m\u1ed9t lo\u1ea1i component m\u1edbi, \u0111\u01b0\u1ee3c render \u1edf ph\xeda server tr\u01b0\u1edbc khi \u0111\u01b0\u1ee3c g\u1eedi v\u1ec1 ph\xeda client (tr\xecnh duy\u1ec7t). \u0110i\u1ec1u n\xe0y gi\xfap gi\u1ea3m g\xe1nh n\u1eb7ng cho tr\xecnh duy\u1ec7t web v\xe0 n\xe2ng cao b\u1ea3o m\u1eadt."}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"D\u1ec5 d\xe0ng h\u01a1n trong qu\xe1 tr\xecnh ph\xe1t tri\u1ec3n khi ta c\xf3 th\u1ec3 k\u1ebft n\u1ed1i tr\u1ef1c ti\u1ebfp v\u1edbi c\xe1c ngu\u1ed3n ph\xeda server nh\u01b0 l\xe0 c\u01a1 s\u1edf d\u1eef li\u1ec7u (database) hay c\xe1c service n\u1ed9i b\u1ed9."}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"Mang l\u1ea1i hi\u1ec7u n\u0103ng t\u1ed1t h\u01a1n nh\u1edd gi\u1ea3m \u0111\u1ed9 tr\u1ec5 khi giao ti\u1ebfp gi\u1eefa client v\xe0 server."}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"Gi\u1ea3m nh\u1eb9 k\xedch c\u1ee1 c\u1ee7a m\xe3 ngu\u1ed3n. C\xe1c th\u01b0 vi\u1ec7n ch\u1ec9 s\u1eed d\u1ee5ng \u1edf ph\xeda server s\u1ebd kh\xf4ng c\u1ea7n ph\u1ea3i truy\u1ec1n t\u1ea3i v\u1ec1 client."}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"T\u1ef1 \u0111\u1ed9ng chia m\xe3 ngu\u1ed3n th\xe0nh c\xe1c ph\u1ea7n nh\u1ecf, sau \u0111\xf3 clients ch\u1ec9 c\u1ea7n load nh\u1eefng ph\u1ea7n c\u1ea7n thi\u1ebft gi\xfap t\u1ed1i \u01b0u hi\u1ec7u n\u0103ng h\u01a1n."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"ii-client-component",children:"II. Client Component"}),"\n",(0,c.jsx)(e.p,{children:"Client Component l\xe0 m\u1ed9t lo\u1ea1i component \u0111\u01b0\u1ee3c render tr\xean ph\xeda client (tr\xecnh duy\u1ec7t). \u0110i\u1ec1u n\xe0y gi\xfap t\u1ea1o ra c\xe1c \u1ee9ng d\u1ee5ng c\xf3 kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\xe1c cao."}),"\n",(0,c.jsx)(e.p,{children:"Client Component cho ph\xe9p b\u1ea1n th\xeam c\xe1c t\xednh n\u0103ng t\u01b0\u01a1ng t\xe1c ph\xeda client v\xe0o \u1ee9ng d\u1ee5ng c\u1ee7a m\xecnh. Trong Next.js, ch\xfang \u0111\u01b0\u1ee3c ti\u1ec1n render tr\xean server v\xe0 \u0111\u01b0\u1ee3c hydrate tr\xean client. B\u1ea1n c\xf3 th\u1ec3 coi Client Component nh\u01b0 c\xe1ch c\xe1c component trong Router Pages \u0111\xe3 ho\u1ea1t \u0111\u1ed9ng."}),"\n",(0,c.jsx)(e.p,{children:"V\xed d\u1ee5, b\u1ea1n c\xf3 th\u1ec3 l\u1ea5y d\u1eef li\u1ec7u v\xe0 render c\xe1c b\xe0i \u0111\u0103ng c\u1ee7a ng\u01b0\u1eddi d\xf9ng tr\xean server (s\u1eed d\u1ee5ng Server Components), sau \u0111\xf3 render n\xfat t\u01b0\u01a1ng t\xe1c LikeButton cho m\u1ed7i b\xe0i \u0111\u0103ng tr\xean client (s\u1eed d\u1ee5ng Client Components)."}),"\n",(0,c.jsx)(e.p,{children:"Sau khi Server Components \u0111\u01b0\u1ee3c render, m\u1ed9t \u0111\u1ecbnh d\u1ea1ng d\u1eef li\u1ec7u \u0111\u1eb7c bi\u1ec7t g\u1ecdi l\xe0 React Server Component Payload (RSC) \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn client. Payload RSC bao g\u1ed3m:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"K\u1ebft qu\u1ea3 \u0111\xe3 render c\u1ee7a Server Components."}),"\n",(0,c.jsx)(e.li,{children:"C\xe1c placeholder cho n\u01a1i Client Components n\xean \u0111\u01b0\u1ee3c render v\xe0 tham chi\u1ebfu \u0111\u1ebfn c\xe1c t\u1ec7p JavaScript c\u1ee7a ch\xfang."}),"\n",(0,c.jsx)(e.li,{children:"React s\u1eed d\u1ee5ng th\xf4ng tin n\xe0y \u0111\u1ec3 h\u1ee3p nh\u1ea5t Server v\xe0 Client Components v\xe0 c\u1eadp nh\u1eadt DOM tr\xean client."}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"iii-khi-n\xe0o-n\xean-s\u1eed-d\u1ee5ng",children:"III. Khi n\xe0o n\xean s\u1eed d\u1ee5ng"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"Server Component:"})," N\xean s\u1eed d\u1ee5ng m\u1eb7c \u0111\u1ecbnh tr\u1eeb khi b\u1ea1n c\u1ea7n s\u1eed d\u1ee5ng c\xe1c hook nh\u01b0 useState, x\u1eed l\xfd c\xe1c s\u1ef1 ki\u1ec7n click ho\u1eb7c c\xe1c s\u1ef1 ki\u1ec7n kh\xe1c ho\u1eb7c c\u1ea7n truy c\u1eadp v\xe0o c\xe1c API c\u1ee5 th\u1ec3 c\u1ee7a tr\xecnh duy\u1ec7t. Server Component cho ph\xe9p b\u1ea1n t\u1eadn d\u1ee5ng c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng m\xe1y ch\u1ee7 \u0111\u1ec3 t\u0103ng t\u1ed1c \u1ee9ng d\u1ee5ng React c\u1ee7a b\u1ea1n. V\u1edbi Server Component, b\u1ea1n c\xf3 th\u1ec3 truy v\u1ea5n tr\u1ef1c ti\u1ebfp c\u01a1 s\u1edf d\u1eef li\u1ec7u c\u1ee7a m\xecnh \u0111\u1ec3 l\u1ea5y d\u1eef li\u1ec7u \u0111\u1ec3 render v\xe0 layout, ti\u1ebft ki\u1ec7m c\xe1c chuy\u1ebfn \u0111i t\u1eeb client."]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"Client Component:"})," Trong Next.js, c\xe1c component client \u0111\u01b0\u1ee3c hydrate v\xe0 g\u1eedi \u0111\u1ebfn ph\xeda client, n\u01a1i ch\xfang \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi React. H\u1ea7u h\u1ebft vi\u1ec7c render t\u0129nh \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n \u1edf ph\xeda m\xe1y ch\u1ee7, nh\u01b0ng n\u1ebfu component client c\xf3 m\u1ed9t s\u1ed1 t\u01b0\u01a1ng t\xe1c th\xec c\xe1c ph\u1ea7n t\u01b0\u01a1ng t\xe1c s\u1ebd \u0111\u01b0\u1ee3c render \u1edf client. \u0110\u1ed1i v\u1edbi c\xe1c \u1ee9ng d\u1ee5ng \u0111\xf2i h\u1ecfi t\u01b0\u01a1ng t\xe1c cao, v\xed d\u1ee5 nh\u01b0 \u1ee9ng d\u1ee5ng \u0111\xf2i h\u1ecfi \u0111\u0103ng nh\u1eadp, c\u1eadp nh\u1eadt th\u1eddi gian th\u1ef1c ho\u1eb7c thay \u0111\u1ed5i \u0111\u1ed9ng n\u1ed9i dung, Client Component s\u1ebd ph\xf9 h\u1ee3p."]}),"\n",(0,c.jsx)(e.h2,{id:"iv-t\u1ea1i-sao-l\u1ea1i-chia-t\xe1ch-serverclient-component",children:"IV. T\u1ea1i sao l\u1ea1i chia t\xe1ch Server/Client Component"}),"\n",(0,c.jsx)(e.p,{children:"Vi\u1ec7c chia t\xe1ch Server Component v\xe0 Client Component gi\xfap t\u1ed1i \u01b0u h\xf3a hi\u1ec7u su\u1ea5t, t\u0103ng c\u01b0\u1eddng kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\xe1c v\xe0 cung c\u1ea5p m\u1ed9t tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\xf9ng m\u1ea1nh m\u1ebd h\u01a1n"}),"\n",(0,c.jsx)(e.p,{children:"Server Component: \u0110\u01b0\u1ee3c render tr\xean m\xe1y ch\u1ee7 v\xe0 gi\xfap gi\u1ea3m l\u01b0\u1ee3ng m\xe3 JavaScript \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn client, t\u1eeb \u0111\xf3 c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a website. B\u1eb1ng c\xe1ch di chuy\u1ec3n vi\u1ec7c render v\xe0 l\u1ea5y d\u1eef li\u1ec7u l\xean server, b\u1ea1n c\xf3 th\u1ec3 gi\u1ea3m l\u01b0\u1ee3ng m\xe3 g\u1eedi \u0111\u1ebfn client, \u0111i\u1ec1u n\xe0y c\xf3 th\u1ec3 c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n. Tuy nhi\xean, \u0111\u1ec3 l\xe0m cho giao di\u1ec7n ng\u01b0\u1eddi d\xf9ng t\u01b0\u01a1ng t\xe1c, b\u1ea1n c\u1ea7n c\u1eadp nh\u1eadt DOM tr\xean client. Do \u0111\xf3, m\xe3 b\u1ea1n vi\u1ebft cho server v\xe0 client kh\xf4ng ph\u1ea3i l\xfac n\xe0o c\u0169ng gi\u1ed1ng nhau."}),"\n",(0,c.jsx)(e.p,{children:"Client Component: \u0110\u01b0\u1ee3c hydrate v\xe0 g\u1eedi \u0111\u1ebfn ph\xeda client, n\u01a1i ch\xfang \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi React. H\u1ea7u h\u1ebft vi\u1ec7c render t\u0129nh \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n \u1edf ph\xeda m\xe1y ch\u1ee7, nh\u01b0ng n\u1ebfu component client c\xf3 m\u1ed9t s\u1ed1 t\u01b0\u01a1ng t\xe1c th\xec c\xe1c ph\u1ea7n t\u01b0\u01a1ng t\xe1c s\u1ebd \u0111\u01b0\u1ee3c render \u1edf client"}),"\n",(0,c.jsx)(e.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,c.jsx)(e.p,{children:"Vi\u1ec7c ch\u1ecdn n\u01a1i \u0111\u1eb7t ranh gi\u1edbi m\u1ea1ng trong c\xe2y component c\u1ee7a b\u1ea1n l\xe0 do b\u1ea1n quy\u1ebft \u0111\u1ecbnh. V\xed d\u1ee5, b\u1ea1n c\xf3 th\u1ec3 l\u1ea5y d\u1eef li\u1ec7u v\xe0 render c\xe1c b\xe0i \u0111\u0103ng c\u1ee7a ng\u01b0\u1eddi d\xf9ng tr\xean server (s\u1eed d\u1ee5ng Server Components), sau \u0111\xf3 render n\xfat t\u01b0\u01a1ng t\xe1c LikeButton cho m\u1ed7i b\xe0i \u0111\u0103ng tr\xean client (s\u1eed d\u1ee5ng Client Components)."})})]})}function d(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(g,{...n})}):g(n)}}}]);