"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[4629],{45:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>u,contentTitle:()=>h,default:()=>a,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"react-js/basic/fetch-and","title":"Fetch API v\u1edbi to\xe1n t\u1eed logic &&","description":"\u0110\xf4i khi b\u1ea1n kh\xf4ng mu\u1ed1n hi\u1ec3n th\u1ecb m\u1ed9t JSX m\u1edbi ho\xe0n to\xe0n m\xe0 ch\u1ec9 mu\u1ed1n b\u1ecf qua vi\u1ec7c hi\u1ec3n th\u1ecb m\u1ed9t ph\u1ea7n c\u1ee7a JSX ph\u1ee5 thu\u1ed9c v\xe0o data t\u1eeb API.","source":"@site/docs/react-js/basic/087-fetch-and.md","sourceDirName":"react-js/basic","slug":"/react-js/basic/fetch-and","permalink":"/blogs/docs/react-js/basic/fetch-and","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":86,"frontMatter":{"sidebar_position":86},"sidebar":"reactJsSidebar","previous":{"title":"Fetch Error","permalink":"/blogs/docs/react-js/basic/fetch-error"},"next":{"title":"C\xe1c lo\u1ea1i l\u1ed7i khi Fetch API","permalink":"/blogs/docs/react-js/basic/fetch-http"}}');var r=s(4848),t=s(8453);const c={sidebar_position:86},h="Fetch API v\u1edbi to\xe1n t\u1eed logic &&",u={},o=[{value:"I. V\u1ea5n \u0111\u1ec1",id:"i-v\u1ea5n-\u0111\u1ec1",level:2},{value:"II. Gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1",id:"ii-gi\u1ea3i-quy\u1ebft-v\u1ea5n-\u0111\u1ec1",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"C\xe2u 1. V\u1ea5n \u0111\u1ec1 ch\xednh khi s\u1eed d\u1ee5ng users.map()?",id:"c\xe2u-1-v\u1ea5n-\u0111\u1ec1-ch\xednh-khi-s\u1eed-d\u1ee5ng-usersmap",level:3},{value:"C\xe2u 2. N\u1ebfu mu\u1ed1n tr\xe1nh l\u1ed7i nh\u01b0ng v\u1eabn gi\u1eef nguy\xean JSX, ta c\u1ea7n l\xe0m g\xec?",id:"c\xe2u-2-n\u1ebfu-mu\u1ed1n-tr\xe1nh-l\u1ed7i-nh\u01b0ng-v\u1eabn-gi\u1eef-nguy\xean-jsx-ta-c\u1ea7n-l\xe0m-g\xec",level:3},{value:"C\xe2u 3. \u01afu \u0111i\u1ec3m c\u1ee7a vi\u1ec7c d\xf9ng users &amp;&amp; users.map(...) so v\u1edbi c\xe1ch ki\u1ec3m tra if (!users)?",id:"c\xe2u-3-\u01b0u-\u0111i\u1ec3m-c\u1ee7a-vi\u1ec7c-d\xf9ng-users--usersmap-so-v\u1edbi-c\xe1ch-ki\u1ec3m-tra-if-users",level:3}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components},{ToggleTOC:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"fetch-api-v\u1edbi-to\xe1n-t\u1eed-logic-",children:"Fetch API v\u1edbi to\xe1n t\u1eed logic &&"})}),"\n",(0,r.jsx)(e.p,{children:"\u0110\xf4i khi b\u1ea1n kh\xf4ng mu\u1ed1n hi\u1ec3n th\u1ecb m\u1ed9t JSX m\u1edbi ho\xe0n to\xe0n m\xe0 ch\u1ec9 mu\u1ed1n b\u1ecf qua vi\u1ec7c hi\u1ec3n th\u1ecb m\u1ed9t ph\u1ea7n c\u1ee7a JSX ph\u1ee5 thu\u1ed9c v\xe0o data t\u1eeb API."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"Create-HTML-1",src:s(1135).A+"",width:"1400",height:"788"})}),"\n",(0,r.jsx)(i,{}),"\n",(0,r.jsx)(e.h2,{id:"i-v\u1ea5n-\u0111\u1ec1",children:"I. V\u1ea5n \u0111\u1ec1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-jsx",children:'import {useState, useEffect} from "react";\r\n\r\nfunction App() {\r\n    const [users, setUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        fetch("https://jsonplaceholder.typicode.com/users")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setUsers(data);\r\n        });\r\n    }, []);\r\n    \r\n    // This will throw an ERROR\r\n    return <>\r\n        <h1>Users</h1>\r\n        <ul>\r\n            {users.map(user => <li key={user.id}>{user.name}</li>)}\r\n        </ul>\r\n  </>\r\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["Ch\u01b0\u01a1ng tr\xecnh s\u1ebd \u0111\u01b0a ra th\xf4ng b\xe1o l\u1ed7i: ",(0,r.jsx)(e.code,{children:"Cannot read property 'map' of undefined."})]}),"\n",(0,r.jsxs)(e.p,{children:["V\u1eady n\u1ebfu b\u1ea1n mu\u1ed1n ch\u1eb7n th\xf4ng b\xe1o l\u1ed7i m\xe0 kh\xf4ng thay \u0111\u1ed5i ph\u1ea7n hi\u1ec3n th\u1ecb c\u1ee7a component th\xec ph\u1ea3i l\xe0m nh\u01b0 th\u1ebf n\xe0o? Gi\u1ea3 s\u1eed tr\u01b0\u1edbc khi ",(0,r.jsx)(e.code,{children:"users"})," \u0111\u01b0\u1ee3c t\u1ea3i, b\u1ea1n ch\u1ec9 mu\u1ed1n component hi\u1ec3n th\u1ecb JSX sau:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-jsx",children:"<>\r\n    <h1>Users</h1>\r\n    <ul>\r\n    </ul>\r\n</>\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u0110\u1ec3 \xfd l\xe0 ch\xfang ta b\u1ecf qua ",(0,r.jsx)(e.code,{children:"users.map(...)"}),"."]}),"\n",(0,r.jsxs)(e.p,{children:["V\xe0 sau \u0111\xf3, khi ",(0,r.jsx)(e.code,{children:"users"})," \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea3i, ",(0,r.jsx)(e.code,{children:"users.map(...)"})," s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb."]}),"\n",(0,r.jsxs)(e.p,{children:["\u0110\xe2y l\xe0 m\u1ed9t t\xecnh hu\u1ed1ng th\u01b0\u1eddng g\u1eb7p v\xe0 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft d\u1ec5 d\xe0ng b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng to\xe1n t\u1eed ",(0,r.jsx)(e.code,{children:"logic &&"}),"."]}),"\n",(0,r.jsx)(e.h2,{id:"ii-gi\u1ea3i-quy\u1ebft-v\u1ea5n-\u0111\u1ec1",children:"II. Gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1"}),"\n",(0,r.jsxs)(e.p,{children:["B\u1ea1n c\xf3 th\u1ec3 th\xeam ti\u1ec1n t\u1ed1 ",(0,r.jsx)(e.code,{children:"users &&"})," tr\u01b0\u1edbc ",(0,r.jsx)(e.code,{children:"users.map()"}),", k\u1ebft qu\u1ea3 cu\u1ed1i c\xf9ng nh\u01b0 sau"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-jsx",children:'import {useState, useEffect} from "react";\r\n\r\nfunction App() {\r\n    const [users, setUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        fetch("https://jsonplaceholder.typicode.com/users")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setUsers(data);\r\n        });\r\n    }, []);\r\n    \r\n    // this will work without breaking \ud83d\udc4d\r\n    return <>\r\n        <h1>Users</h1>\r\n        <ul>\r\n            {users && users.map(user => <li key={user.id}>{user.name}</li>)}\r\n        </ul>\r\n  </>\r\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["Tr\u01b0\u1edbc khi 'users' \u0111\u01b0\u1ee3c t\u1ea3i: bi\u1ec3u th\u1ee9c ",(0,r.jsx)(e.code,{children:"users && users.map()"})," s\u1ebd g\u1eb7p xung \u0111\u1ed9t t\u1ea1i ",(0,r.jsx)(e.code,{children:"users"}),", c\xf3 ngh\u0129a l\xe0 n\xf3 s\u1ebd kh\xf4ng ti\u1ebfp t\u1ee5c th\u1ef1c thi sau ",(0,r.jsx)(e.code,{children:"&&"})," v\xec ",(0,r.jsx)(e.code,{children:"users"})," tr\u1ea3 v\u1ec1 ",(0,r.jsx)(e.code,{children:"undefined"}),". \u0110i\u1ec1u n\xe0y s\u1ebd ng\u0103n ch\u1eb7n vi\u1ec7c th\u1ef1c thi ",(0,r.jsx)(e.code,{children:"users.map()"}),", tr\xe1nh g\xe2y ra l\u1ed7i."]}),"\n",(0,r.jsxs)(e.p,{children:["Sau khi 'users' \u0111\u01b0\u1ee3c t\u1ea3i: bi\u1ec3u th\u1ee9c ",(0,r.jsx)(e.code,{children:"users && users.map()"})," s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c thi to\xe0n b\u1ed9 v\xec ",(0,r.jsx)(e.code,{children:"users"})," kh\xf4ng tr\u1ea3 v\u1ec1 m\u1ed9t gi\xe1 tr\u1ecb ",(0,r.jsx)(e.code,{children:"falsy"})," (nh\u01b0 ",(0,r.jsx)(e.code,{children:"undefined"})," ho\u1eb7c ",(0,r.jsx)(e.code,{children:"false"}),"). Do \u0111\xf3, ",(0,r.jsx)(e.code,{children:"users.map()"})," s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi."]}),"\n",(0,r.jsx)(e.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"To\xe1n t\u1eed logic && c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 tr\xe1nh hi\u1ec3n th\u1ecb m\u1ed9t ph\u1ea7n c\u1ee5 th\u1ec3 c\u1ee7a JSX."}),"\n",(0,r.jsx)(e.li,{children:"To\xe1n t\u1eed n\xe0y gi\xfap tr\xe1nh g\xe2y l\u1ed7i cho component tr\u01b0\u1edbc khi state \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp sau khi fetch \u0111\xe3 \u0111\u01b0\u1ee3c x\u1eed l\xfd."}),"\n"]})}),"\n",(0,r.jsx)(e.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"c\xe2u-1-v\u1ea5n-\u0111\u1ec1-ch\xednh-khi-s\u1eed-d\u1ee5ng-usersmap",children:"C\xe2u 1. V\u1ea5n \u0111\u1ec1 ch\xednh khi s\u1eed d\u1ee5ng users.map()?"}),"\n",(0,r.jsx)(e.p,{children:"\u1ede l\u1ea7n render \u0111\u1ea7u ti\xean, users c\xf3 gi\xe1 tr\u1ecb undefined do ch\u01b0a \u0111\u01b0\u1ee3c g\xe1n d\u1eef li\u1ec7u t\u1eeb API. V\xec v\u1eady, vi\u1ec7c g\u1ecdi users.map() g\xe2y l\u1ed7i: Cannot read property 'map' of undefined."}),"\n",(0,r.jsx)(e.h3,{id:"c\xe2u-2-n\u1ebfu-mu\u1ed1n-tr\xe1nh-l\u1ed7i-nh\u01b0ng-v\u1eabn-gi\u1eef-nguy\xean-jsx-ta-c\u1ea7n-l\xe0m-g\xec",children:"C\xe2u 2. N\u1ebfu mu\u1ed1n tr\xe1nh l\u1ed7i nh\u01b0ng v\u1eabn gi\u1eef nguy\xean JSX, ta c\u1ea7n l\xe0m g\xec?"}),"\n",(0,r.jsx)(e.p,{children:"Ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng to\xe1n t\u1eed logic && \u0111\u1ec3 ki\u1ec3m tra users tr\u01b0\u1edbc khi g\u1ecdi users.map()"}),"\n",(0,r.jsx)(e.h3,{id:"c\xe2u-3-\u01b0u-\u0111i\u1ec3m-c\u1ee7a-vi\u1ec7c-d\xf9ng-users--usersmap-so-v\u1edbi-c\xe1ch-ki\u1ec3m-tra-if-users",children:"C\xe2u 3. \u01afu \u0111i\u1ec3m c\u1ee7a vi\u1ec7c d\xf9ng users && users.map(...) so v\u1edbi c\xe1ch ki\u1ec3m tra if (!users)?"}),"\n",(0,r.jsx)(e.p,{children:"Ng\u1eafn g\u1ecdn, d\u1ec5 \u0111\u1ecdc, kh\xf4ng c\u1ea7n vi\u1ebft th\xeam nhi\u1ec1u logic \u0111i\u1ec1u ki\u1ec7n."}),"\n",(0,r.jsx)(e.p,{children:"Gi\u1eef nguy\xean c\u1ea5u tr\xfac JSX, ch\u1ec9 b\u1ecf qua ph\u1ea7n ph\u1ee5 thu\u1ed9c v\xe0o d\u1eef li\u1ec7u khi ch\u01b0a c\xf3 d\u1eef li\u1ec7u."}),"\n",(0,r.jsx)(e.p,{children:"Tr\xe1nh l\u1ed7i runtime m\xe0 kh\xf4ng c\u1ea7n render m\u1ed9t component ho\xe0n to\xe0n kh\xe1c."})]})}function a(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},1135:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/fetch-b569e0b993dc5cd4d1cfbe12c7d50086.webp"},8453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>h});var i=s(6540);const r={},t=i.createContext(r);function c(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function h(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);