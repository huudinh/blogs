"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[6197],{8453:(n,t,e)=>{e.d(t,{R:()=>r,x:()=>o});var i=e(6540);const h={},c=i.createContext(h);function r(n){const t=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(h):n.components||h:r(n.components),i.createElement(c.Provider,{value:t},n.children)}},9550:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"react-js/basic/state-performance","title":"C\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a \u1ee9ng d\u1ee5ng","description":"C\u1eadp nh\u1eadt state trong React l\xe0 h\xe0nh vi b\u1ea5t \u0111\u1ed3ng b\u1ed9, t\u1ee9c l\xe0 state kh\xf4ng nh\u1ea5t thi\u1ebft ph\u1ea3i \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt ngay l\u1eadp t\u1ee9c.","source":"@site/docs/react-js/basic/065-state-performance.md","sourceDirName":"react-js/basic","slug":"/react-js/basic/state-performance","permalink":"/blogs/docs/react-js/basic/state-performance","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":67,"frontMatter":{"sidebar_position":67},"sidebar":"reactJsSidebar","previous":{"title":"Ph\xe2n chia component","permalink":"/blogs/docs/react-js/basic/component-separation"},"next":{"title":"Update State","permalink":"/blogs/docs/react-js/basic/update-state"}}');var h=e(4848),c=e(8453);const r={sidebar_position:67},o="C\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a \u1ee9ng d\u1ee5ng",s={},a=[{value:"I. Hi\u1ec7u su\u1ea5t khi s\u1eed d\u1ee5ng React",id:"i-hi\u1ec7u-su\u1ea5t-khi-s\u1eed-d\u1ee5ng-react",level:2},{value:"II. Gom nh\xf3m c\xe1c c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i",id:"ii-gom-nh\xf3m-c\xe1c-c\u1eadp-nh\u1eadt-tr\u1ea1ng-th\xe1i",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"C\xe2u 1: C\xf3 bao nhi\xeau c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i x\u1ea3y ra khi nh\u1ea5p v\xe0o n\xfat?",id:"c\xe2u-1-c\xf3-bao-nhi\xeau-c\u1eadp-nh\u1eadt-tr\u1ea1ng-th\xe1i-x\u1ea3y-ra-khi-nh\u1ea5p-v\xe0o-n\xfat",level:3},{value:"C\xe2u 2: Component n\xe0y s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb l\u1ea1i bao nhi\xeau l\u1ea7n khi nh\u1ea5p v\xe0o n\xfat?",id:"c\xe2u-2-component-n\xe0y-s\u1ebd-\u0111\u01b0\u1ee3c-hi\u1ec3n-th\u1ecb-l\u1ea1i-bao-nhi\xeau-l\u1ea7n-khi-nh\u1ea5p-v\xe0o-n\xfat",level:3}];function l(n){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components},{ToggleTOC:i}=t;return i||function(n,t){throw new Error("Expected "+(t?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(t.header,{children:(0,h.jsx)(t.h1,{id:"c\u1ea3i-thi\u1ec7n-hi\u1ec7u-su\u1ea5t-c\u1ee7a-\u1ee9ng-d\u1ee5ng",children:"C\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a \u1ee9ng d\u1ee5ng"})}),"\n",(0,h.jsx)(t.p,{children:"C\u1eadp nh\u1eadt state trong React l\xe0 h\xe0nh vi b\u1ea5t \u0111\u1ed3ng b\u1ed9, t\u1ee9c l\xe0 state kh\xf4ng nh\u1ea5t thi\u1ebft ph\u1ea3i \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt ngay l\u1eadp t\u1ee9c."}),"\n",(0,h.jsx)(t.p,{children:(0,h.jsx)(t.img,{alt:"Create-HTML-1",src:e(9856).A+"",width:"1200",height:"589"})}),"\n",(0,h.jsx)(i,{}),"\n",(0,h.jsx)(t.h2,{id:"i-hi\u1ec7u-su\u1ea5t-khi-s\u1eed-d\u1ee5ng-react",children:"I. Hi\u1ec7u su\u1ea5t khi s\u1eed d\u1ee5ng React"}),"\n",(0,h.jsx)(t.p,{children:"H\xe0nh vi Update state \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf b\u1ea5t \u0111\u1ed3ng b\u1ed9 nh\u1eb1m gi\xfap c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a \u1ee9ng d\u1ee5ng React."}),"\n",(0,h.jsx)(t.p,{children:"Khi b\u1ea1n c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i trong React, \u0111i\u1ec1u n\xe0y y\xeau c\u1ea7u ph\u1ea3i hi\u1ec3n th\u1ecb l\u1ea1i component (v\xe0 c\xf3 th\u1ec3 c\u1ea3 c\xe1c component kh\xe1c), \u0111\xf3 c\xf3 th\u1ec3 l\xe0 m\u1ed9t ho\u1ea1t \u0111\u1ed9ng t\u1ed1n k\xe9m. \u0110\xf3 l\xe0 l\xfd do t\u1ea1i sao React gom nh\xf3m nhi\u1ec1u c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i l\u1ea1i v\u1edbi nhau v\xe0 k\u1ebft h\u1ee3p ch\xfang th\xe0nh m\u1ed9t l\u1ea7n render \u0111\u1ec3 l\xe0m cho \u1ee9ng d\u1ee5ng ph\u1ea3n h\u1ed3i nhanh h\u01a1n v\xe0 gi\u1ea3m c\xf4ng vi\u1ec7c m\xe0 tr\xecnh duy\u1ec7t ph\u1ea3i th\u1ef1c hi\u1ec7n."}),"\n",(0,h.jsx)(t.h2,{id:"ii-gom-nh\xf3m-c\xe1c-c\u1eadp-nh\u1eadt-tr\u1ea1ng-th\xe1i",children:"II. Gom nh\xf3m c\xe1c c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i"}),"\n",(0,h.jsx)(t.pre,{children:(0,h.jsx)(t.code,{className:"language-jsx",children:'import React, {useState} from "react";\r\n\r\nfunction App() {    \r\n    const [date, setDate] = useState(new Date());\r\n    const [counter, setCounter] = useState(0);\r\n\r\n    console.log("rendered"); //allows us to visualize re-renders\r\n\r\n    function handleButtonClick() {\r\n        setDate(new Date());\r\n        setCounter(counter + 1);\r\n    }\r\n\r\n    return <button onClick={handleButtonClick}>Click me</button>\r\n}\n'})}),"\n",(0,h.jsxs)(t.p,{children:["H\xe0m ",(0,h.jsx)(t.code,{children:"setDate()"})," thi\u1ebft l\u1eadp ng\xe0y hi\u1ec7n t\u1ea1i b\u1eb1ng c\xe1ch g\u1ecdi ",(0,h.jsx)(t.code,{children:"new Date()"}),"."]}),"\n",(0,h.jsx)(t.p,{children:"C\xf3 hai c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i. Tuy nhi\xean, component ch\u1ec9 hi\u1ec3n th\u1ecb l\u1ea1i m\u1ed9t l\u1ea7n."}),"\n",(0,h.jsx)(t.p,{children:"\u0110i\u1ec1u n\xe0y l\xe0 do React gom nh\xf3m (k\u1ebft h\u1ee3p) hai thay \u0111\u1ed5i tr\u1ea1ng th\xe1i n\xe0y v\xe0 th\u1ef1c hi\u1ec7n ch\xfang c\xf9ng m\u1ed9t l\xfac. \u0110i\u1ec1u n\xe0y gi\xfap \u1ee9ng d\u1ee5ng ph\u1ea3n h\u1ed3i nhanh h\u01a1n \u0111\u1ed1i v\u1edbi t\u01b0\u01a1ng t\xe1c c\u1ee7a ng\u01b0\u1eddi d\xf9ng."}),"\n",(0,h.jsx)(t.p,{children:"B\u1ea1n kh\xf4ng c\u1ea7n ph\u1ea3i bi\u1ebft c\u1ee5 th\u1ec3 v\u1ec1 c\xe1ch/khi n\xe0o gom nh\xf3m x\u1ea3y ra v\xec \u0111\xf3 l\xe0 m\u1ed9t t\xednh n\u0103ng c\u1ee7a React. Tuy nhi\xean, h\xe0nh vi n\xe0y c\xf3 th\u1ec3 t\u1ea1o ra m\u1ed9t s\u1ed1 v\u1ea5n \u0111\u1ec1 trong \u1ee9ng d\u1ee5ng khi qu\xe1 tr\xecnh c\u1eadp nh\u1eadt tr\u1edf n\xean ph\u1ee9c t\u1ea1p h\u01a1n."}),"\n",(0,h.jsx)(t.p,{children:"K\u1ec3 t\u1eeb React 18, React hi\u1ec7n gom nh\xf3m c\xe1c c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i ngay c\u1ea3 khi ch\xfang n\u1eb1m trong m\u1ed9t tr\xecnh x\u1eed l\xfd s\u1ef1 ki\u1ec7n ho\u1eb7c callback c\u1ee7a promise."}),"\n",(0,h.jsx)(t.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,h.jsxs)(t.ul,{children:["\n",(0,h.jsx)(t.li,{children:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i trong React l\xe0 h\xe0nh vi b\u1ea5t \u0111\u1ed3ng b\u1ed9."}),"\n",(0,h.jsx)(t.li,{children:"M\u1ed9t s\u1ed1 thay \u0111\u1ed5i tr\u1ea1ng th\xe1i x\u1ea3y ra li\xean ti\u1ebfp c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c gom nh\xf3m nh\u1eb1m c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t."}),"\n"]})}),"\n",(0,h.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/f1PW5Y7_30E?rel=0",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,h.jsx)(t.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,h.jsx)(t.hr,{}),"\n",(0,h.jsx)(t.h3,{id:"c\xe2u-1-c\xf3-bao-nhi\xeau-c\u1eadp-nh\u1eadt-tr\u1ea1ng-th\xe1i-x\u1ea3y-ra-khi-nh\u1ea5p-v\xe0o-n\xfat",children:"C\xe2u 1: C\xf3 bao nhi\xeau c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i x\u1ea3y ra khi nh\u1ea5p v\xe0o n\xfat?"}),"\n",(0,h.jsx)(t.p,{children:"S\u1ed1 l\u1ea7n c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i (state updates) khi nh\u1ea5p v\xe0o n\xfat trong React ph\u1ee5 thu\u1ed9c v\xe0o c\xe1ch b\u1ea1n vi\u1ebft m\xe3 v\xe0 c\xe1c h\xe0m \u0111\u01b0\u1ee3c g\u1ecdi trong s\u1ef1 ki\u1ec7n onClick. D\u01b0\u1edbi \u0111\xe2y l\xe0 m\u1ed9t s\u1ed1 t\xecnh hu\u1ed1ng ph\u1ed5 bi\u1ebfn:"}),"\n",(0,h.jsx)(t.p,{children:"Khi nh\u1ea5p v\xe0o n\xfat, ch\u1ec9 m\u1ed9t l\u1ea7n c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i x\u1ea3y ra. React s\u1ebd re-render component m\u1ed9t l\u1ea7n."}),"\n",(0,h.jsx)(t.pre,{children:(0,h.jsx)(t.code,{className:"language-jsx",children:"const [count, setCount] = useState(0);\r\n\r\n<button onClick={() => setCount(count + 1)}>T\u0103ng</button>\n"})}),"\n",(0,h.jsx)(t.p,{children:"Trong React (\u0111\u1eb7c bi\u1ec7t l\xe0 v\u1edbi useState trong function component), c\xe1c c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i \u0111\u1ed3ng b\u1ed9 s\u1ebd \u0111\u01b0\u1ee3c g\u1ed9p l\u1ea1i (batched). V\xec v\u1eady, d\xf9 g\u1ecdi setCount hai l\u1ea7n, React c\xf3 th\u1ec3 ch\u1ec9 re-render m\u1ed9t l\u1ea7n v\u1edbi gi\xe1 tr\u1ecb cu\u1ed1i c\xf9ng."}),"\n",(0,h.jsx)(t.pre,{children:(0,h.jsx)(t.code,{className:"language-jsx",children:"const [count, setCount] = useState(0);\r\n\r\n<button onClick={() => {\r\n  setCount(count + 1);\r\n  setCount(count + 2);\r\n}}>T\u0103ng</button>\r\n\n"})}),"\n",(0,h.jsx)(t.p,{children:"React s\u1ebd th\u1ef1c hi\u1ec7n hai l\u1ea7n c\u1eadp nh\u1eadt ri\xeang bi\u1ec7t, v\xec b\u1ea1n d\xf9ng h\xe0m callback. K\u1ebft qu\u1ea3 l\xe0 count t\u0103ng l\xean 2."}),"\n",(0,h.jsx)(t.pre,{children:(0,h.jsx)(t.code,{className:"language-jsx",children:"<button onClick={() => {\r\n  setCount(prev => prev + 1);\r\n  setCount(prev => prev + 1);\r\n}}>T\u0103ng</button>\r\n\n"})}),"\n",(0,h.jsx)(t.h3,{id:"c\xe2u-2-component-n\xe0y-s\u1ebd-\u0111\u01b0\u1ee3c-hi\u1ec3n-th\u1ecb-l\u1ea1i-bao-nhi\xeau-l\u1ea7n-khi-nh\u1ea5p-v\xe0o-n\xfat",children:"C\xe2u 2: Component n\xe0y s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb l\u1ea1i bao nhi\xeau l\u1ea7n khi nh\u1ea5p v\xe0o n\xfat?"}),"\n",(0,h.jsx)(t.p,{children:"S\u1ed1 l\u1ea7n component \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb l\u1ea1i (re-render) khi nh\u1ea5p v\xe0o n\xfat ph\u1ee5 thu\u1ed9c v\xe0o c\xe1ch b\u1ea1n c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i trong React."}),"\n",(0,h.jsx)(t.p,{children:"D\xf9 g\u1ecdi setState nhi\u1ec1u l\u1ea7n, th\u01b0\u1eddng ch\u1ec9 c\xf3 1 l\u1ea7n re-render nh\u1edd React batching."}),"\n",(0,h.jsx)(t.p,{children:"Nh\u01b0ng n\u1ebfu g\u1ecdi setState ngo\xe0i s\u1ef1 ki\u1ec7n React, c\xf3 th\u1ec3 g\xe2y nhi\u1ec1u l\u1ea7n re-render."})]})}function p(n={}){const{wrapper:t}={...(0,c.R)(),...n.components};return t?(0,h.jsx)(t,{...n,children:(0,h.jsx)(l,{...n})}):l(n)}},9856:(n,t,e)=>{e.d(t,{A:()=>i});const i=e.p+"assets/images/components-76c38e03af1f897c8e8ade55e14457aa.jpg"}}]);