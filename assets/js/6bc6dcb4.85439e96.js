"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[2305],{1135:(n,t,i)=>{i.d(t,{A:()=>h});const h=i.p+"assets/images/fetch-b569e0b993dc5cd4d1cfbe12c7d50086.webp"},6663:(n,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>h,toc:()=>o});const h=JSON.parse('{"id":"react-js/basic/fetch-loading","title":"X\u1eed l\xfd Loading khi Fetch API","description":"Khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\u1ea1ng b\u1eb1ng Fetch API, vi\u1ec7c hi\u1ec3n th\u1ecb tr\xecnh t\u1ea3i (loader) l\xe0 m\u1ed9t ph\u1ea7n quan tr\u1ecdng trong giao di\u1ec7n ng\u01b0\u1eddi d\xf9ng, \u0111\xf3 l\xe0 m\u1ed9t ch\u1ec9 b\xe1o h\xecnh \u1ea3nh cho ng\u01b0\u1eddi d\xf9ng bi\u1ebft r\u1eb1ng d\u1eef li\u1ec7u \u0111ang \u0111\u01b0\u1ee3c t\xecm n\u1ea1p t\u1eeb m\u1ea1ng v\xe0 h\u1ecd n\xean \u0111\u1ee3i m\u1ed9t ch\xfat.","source":"@site/docs/react-js/basic/089-fetch-loading.md","sourceDirName":"react-js/basic","slug":"/react-js/basic/fetch-loading","permalink":"/blogs/docs/react-js/basic/fetch-loading","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":89,"frontMatter":{"sidebar_position":89},"sidebar":"reactJsSidebar","previous":{"title":"C\xe1c lo\u1ea1i l\u1ed7i khi Fetch API","permalink":"/blogs/docs/react-js/basic/fetch-http"}}');var e=i(4848),c=i(8453);const r={sidebar_position:89},d="X\u1eed l\xfd Loading khi Fetch API",s={},o=[{value:"I. Loading",id:"i-loading",level:2},{value:"II. Hi\u1ec3n th\u1ecb Loading",id:"ii-hi\u1ec3n-th\u1ecb-loading",level:2},{value:"III. B\u1eaft \u0111\u1ea7u t\u1ea3i",id:"iii-b\u1eaft-\u0111\u1ea7u-t\u1ea3i",level:2},{value:"IV. D\u1eebng t\u1ea3i",id:"iv-d\u1eebng-t\u1ea3i",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"C\xe2u 1. T\u1ea1i sao c\u1ea7n hi\u1ec3n th\u1ecb Loading khi s\u1eed d\u1ee5ng Fetch API?",id:"c\xe2u-1-t\u1ea1i-sao-c\u1ea7n-hi\u1ec3n-th\u1ecb-loading-khi-s\u1eed-d\u1ee5ng-fetch-api",level:3},{value:"C\xe2u 2. Khi n\xe0o n\xean s\u1eed d\u1ee5ng tr\xecnh t\u1ea3i (loader)?",id:"c\xe2u-2-khi-n\xe0o-n\xean-s\u1eed-d\u1ee5ng-tr\xecnh-t\u1ea3i-loader",level:3},{value:"C\xe2u 3. L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 theo d\xf5i tr\u1ea1ng th\xe1i t\u1ea3i d\u1eef li\u1ec7u trong React?",id:"c\xe2u-3-l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-theo-d\xf5i-tr\u1ea1ng-th\xe1i-t\u1ea3i-d\u1eef-li\u1ec7u-trong-react",level:3},{value:"C\xe2u 4. C\xf3 th\u1ec3 kh\u1edfi t\u1ea1o isLoading l\xe0 true ngay t\u1eeb \u0111\u1ea7u kh\xf4ng?",id:"c\xe2u-4-c\xf3-th\u1ec3-kh\u1edfi-t\u1ea1o-isloading-l\xe0-true-ngay-t\u1eeb-\u0111\u1ea7u-kh\xf4ng",level:3},{value:"C\xe2u 5. L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 d\u1eebng tr\xecnh t\u1ea3i khi fetch th\xe0nh c\xf4ng?",id:"c\xe2u-5-l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-d\u1eebng-tr\xecnh-t\u1ea3i-khi-fetch-th\xe0nh-c\xf4ng",level:3},{value:"C\xe2u 6. L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 d\u1eebng tr\xecnh t\u1ea3i khi fetch th\u1ea5t b\u1ea1i?",id:"c\xe2u-6-l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-d\u1eebng-tr\xecnh-t\u1ea3i-khi-fetch-th\u1ea5t-b\u1ea1i",level:3}];function g(n){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components},{ToggleTOC:h}=t;return h||function(n,t){throw new Error("Expected "+(t?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.header,{children:(0,e.jsx)(t.h1,{id:"x\u1eed-l\xfd-loading-khi-fetch-api",children:"X\u1eed l\xfd Loading khi Fetch API"})}),"\n",(0,e.jsx)(t.p,{children:"Khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\u1ea1ng b\u1eb1ng Fetch API, vi\u1ec7c hi\u1ec3n th\u1ecb tr\xecnh t\u1ea3i (loader) l\xe0 m\u1ed9t ph\u1ea7n quan tr\u1ecdng trong giao di\u1ec7n ng\u01b0\u1eddi d\xf9ng, \u0111\xf3 l\xe0 m\u1ed9t ch\u1ec9 b\xe1o h\xecnh \u1ea3nh cho ng\u01b0\u1eddi d\xf9ng bi\u1ebft r\u1eb1ng d\u1eef li\u1ec7u \u0111ang \u0111\u01b0\u1ee3c t\xecm n\u1ea1p t\u1eeb m\u1ea1ng v\xe0 h\u1ecd n\xean \u0111\u1ee3i m\u1ed9t ch\xfat."}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"Create-HTML-1",src:i(1135).A+"",width:"1400",height:"788"})}),"\n",(0,e.jsx)(h,{}),"\n",(0,e.jsx)(t.h2,{id:"i-loading",children:"I. Loading"}),"\n",(0,e.jsx)(t.p,{children:"Kh\xf4ng ph\u1ea3i t\u1ea5t c\u1ea3 c\xe1c tr\u01b0\u1eddng h\u1ee3p \u0111\u1ec1u c\u1ea7n s\u1eed d\u1ee5ng tr\xecnh t\u1ea3i. Tuy nhi\xean, m\u1ed9t quy t\u1eafc chung l\xe0 khi n\u1ed9i dung ch\xednh m\xe0 ng\u01b0\u1eddi d\xf9ng mu\u1ed1n xem \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i th\xec ta n\xean s\u1eed d\u1ee5ng tr\xecnh t\u1ea3i."}),"\n",(0,e.jsx)(t.p,{children:"H\xe3y nh\u1edb r\u1eb1ng khi ph\xe1t tri\u1ec3n \u1ee9ng d\u1ee5ng tr\xean m\xe1y t\xednh c\u1ee7a b\u1ea1n, b\u1ea1n c\xf3 th\u1ec3 c\xf3 k\u1ebft n\u1ed1i nhanh. Tuy nhi\xean, ng\u01b0\u1eddi d\xf9ng c\xf3 th\u1ec3 c\xf3 k\u1ebft n\u1ed1i ch\u1eadm h\u01a1n ho\u1eb7c duy\u1ec7t \u1ee9ng d\u1ee5ng tr\xean \u0111i\u1ec7n tho\u1ea1i. K\u1ebft n\u1ed1i di \u0111\u1ed9ng th\u01b0\u1eddng ch\u1eadm h\u01a1n so v\u1edbi Wi-Fi \u1edf nh\xe0 ho\u1eb7c n\u01a1i l\xe0m vi\u1ec7c."}),"\n",(0,e.jsx)(t.h2,{id:"ii-hi\u1ec3n-th\u1ecb-loading",children:"II. Hi\u1ec3n th\u1ecb Loading"}),"\n",(0,e.jsxs)(t.p,{children:["Ch\xfang ta c\u1ea7n bi\u1ebft khi n\xe0o y\xeau c\u1ea7u ",(0,e.jsx)(t.code,{children:"fetch"})," b\u1eaft \u0111\u1ea7u v\xe0 k\u1ebft th\xfac \u0111\u1ec3 hi\u1ec3n th\u1ecb tr\xecnh t\u1ea3i. Ch\xfang ta c\u1ea7n m\u1ed9t bi\u1ebfn tr\u1ea1ng th\xe1i \u0111\u1ec3 theo d\xf5i \u0111i\u1ec1u n\xe0y."]}),"\n",(0,e.jsxs)(t.p,{children:["V\xec v\u1eady, ch\xfang ta b\u1eaft \u0111\u1ea7u b\u1eb1ng c\xe1ch \u0111\u1ecbnh ngh\u0129a m\u1ed9t bi\u1ebfn tr\u1ea1ng th\xe1i cho bi\u1ebft y\xeau c\u1ea7u ",(0,e.jsx)(t.code,{children:"fetch"})," c\xf3 \u0111ang t\u1ea3i hay kh\xf4ng; ch\xfang ta s\u1ebd g\u1ecdi bi\u1ebfn l\xe0 ",(0,e.jsx)(t.code,{children:"isLoading"})," v\xe0 \u0111\u1eb7t gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh l\xe0 ",(0,e.jsx)(t.code,{children:"false"}),":"]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-jsx",children:"// inside a React component\r\nconst [isLoading, setIsLoading] = useState(false);\n"})}),"\n",(0,e.jsx)(t.h2,{id:"iii-b\u1eaft-\u0111\u1ea7u-t\u1ea3i",children:"III. B\u1eaft \u0111\u1ea7u t\u1ea3i"}),"\n",(0,e.jsx)(t.p,{children:"Ch\xfang ta c\u1ea7n g\u1ecdi setIsLoading(true) ngay khi y\xeau c\u1ea7u fetch b\u1eaft \u0111\u1ea7u"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-jsx",children:'import {useEffect, useState} from "react";\r\n\r\nfunction App() {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true); // start the loader\r\n        fetch("https://jsonplaceholder.typicode.com/users")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n        });\r\n    }, []);\r\n}\n'})}),"\n",(0,e.jsxs)(t.p,{children:["Trong tr\u01b0\u1eddng h\u1ee3p n\xe0y, v\xec component s\u1ebd th\u1ef1c hi\u1ec7n y\xeau c\u1ea7u ",(0,e.jsx)(t.code,{children:"fetch"})," c\xe0ng s\u1edbm c\xe0ng t\u1ed1t, b\u1ea1n c\xf3 th\u1ec3 thay \u0111\u1ed5i ",(0,e.jsx)(t.code,{children:"useState(false)"})," th\xe0nh ",(0,e.jsx)(t.code,{children:"useState(true)"}),", khi \u0111\xf3 b\u1ea1n kh\xf4ng c\u1ea7n b\u1eaft \u0111\u1ea7u tr\xecnh t\u1ea3i tr\u01b0\u1edbc cu\u1ed9c g\u1ecdi ",(0,e.jsx)(t.code,{children:"fetch"}),"."]}),"\n",(0,e.jsx)(t.h2,{id:"iv-d\u1eebng-t\u1ea3i",children:"IV. D\u1eebng t\u1ea3i"}),"\n",(0,e.jsxs)(t.p,{children:["\u0110o\u1ea1n code tr\xean s\u1ebd thi\u1ebft l\u1eadp ",(0,e.jsx)(t.code,{children:"isLoading"})," th\xe0nh ",(0,e.jsx)(t.code,{children:"true"})," v\xe0 kh\xf4ng bao gi\u1edd d\u1eebng tr\xecnh t\u1ea3i. \u0110\xe2y l\xe0 l\xfd do t\u1ea1i sao ch\xfang ta c\u1ea7n d\u1eebng tr\xecnh t\u1ea3i khi nh\u1eadn \u0111\u01b0\u1ee3c ph\u1ea3n h\u1ed3i."]}),"\n",(0,e.jsxs)(t.p,{children:["Tuy nhi\xean, ch\xfang ta c\u0169ng n\xean d\u1eebng tr\xecnh t\u1ea3i trong tr\u01b0\u1eddng h\u1ee3p y\xeau c\u1ea7u ",(0,e.jsx)(t.code,{children:"fetch"})," b\u1ecb l\u1ed7i, v\xec v\u1eady ch\xfang ta c\u1ea7n g\u1ecdi ",(0,e.jsx)(t.code,{children:"setIsLoading(false)"})," trong ",(0,e.jsx)(t.code,{children:".then() "}),"v\xe0 .",(0,e.jsx)(t.code,{children:"catch()"}),"."]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-jsx",children:'import {useEffect, useState} from "react";\r\n\r\nfunction App() {\r\n    const [isLoading, setIsLoading] = useState(true); // create and start the loader\r\n\r\n    useEffect(() => {\r\n        fetch("https://jsonplaceholder.typicode.com/users")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setIsLoading(false); // stop the loader\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            setIsLoading(false); // stop the loader\r\n            console.error(error);\r\n        });\r\n    }, []);\r\n}\n'})}),"\n",(0,e.jsx)(t.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"M\u1ed9t quy t\u1eafc chung l\xe0 khi n\u1ed9i dung ch\xednh m\xe0 ng\u01b0\u1eddi d\xf9ng mu\u1ed1n xem \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i th\xec ta n\xean s\u1eed d\u1ee5ng tr\xecnh t\u1ea3i."}),"\n",(0,e.jsx)(t.li,{children:"Tr\xecnh t\u1ea3i l\xe0 m\u1ed9t th\xe0nh ph\u1ea7n quan tr\u1ecdng \u0111\u1ed1i v\u1edbi ng\u01b0\u1eddi d\xf9ng c\xf3 k\u1ebft n\u1ed1i ch\u1eadm v\xe0 s\u1eed d\u1ee5ng k\u1ebft n\u1ed1i di \u0111\u1ed9ng."}),"\n",(0,e.jsxs)(t.li,{children:["\u0110\u1ec3 hi\u1ec3n th\u1ecb tr\xecnh t\u1ea3i, ch\xfang ta c\u1ea7n c\xf3 m\u1ed9t bi\u1ebfn tr\u1ea1ng th\xe1i \u0111\u1ec3 theo d\xf5i xem y\xeau c\u1ea7u c\xf3 \u0111ang t\u1ea3i hay kh\xf4ng. V\xed d\u1ee5: m\u1ed9t bi\u1ebfn tr\u1ea1ng th\xe1i t\xean l\xe0 ",(0,e.jsx)(t.code,{children:"isLoading"}),"."]}),"\n",(0,e.jsxs)(t.li,{children:["\u0110\u1ec3 b\u1eaft \u0111\u1ea7u tr\xecnh t\u1ea3i, ch\xfang ta c\u1ea7n g\u1ecdi ",(0,e.jsx)(t.code,{children:"setIsLoading(true)"})," khi y\xeau c\u1ea7u ",(0,e.jsx)(t.code,{children:"fetch"})," b\u1eaft \u0111\u1ea7u."]}),"\n",(0,e.jsxs)(t.li,{children:["\u0110\u1ec3 d\u1eebng tr\xecnh t\u1ea3i, ch\xfang ta c\u1ea7n g\u1ecdi ",(0,e.jsx)(t.code,{children:"setIsLoading(false)"})," khi y\xeau c\u1ea7u ",(0,e.jsx)(t.code,{children:"fetch"})," ho\xe0n th\xe0nh th\xe0nh c\xf4ng ho\u1eb7c g\u1eb7p l\u1ed7i."]}),"\n"]})}),"\n",(0,e.jsx)(t.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,e.jsx)(t.hr,{}),"\n",(0,e.jsx)(t.h3,{id:"c\xe2u-1-t\u1ea1i-sao-c\u1ea7n-hi\u1ec3n-th\u1ecb-loading-khi-s\u1eed-d\u1ee5ng-fetch-api",children:"C\xe2u 1. T\u1ea1i sao c\u1ea7n hi\u1ec3n th\u1ecb Loading khi s\u1eed d\u1ee5ng Fetch API?"}),"\n",(0,e.jsx)(t.p,{children:"Loading gi\xfap ng\u01b0\u1eddi d\xf9ng bi\u1ebft r\u1eb1ng d\u1eef li\u1ec7u \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i t\u1eeb m\u1ea1ng. \u0110\xe2y l\xe0 ch\u1ec9 b\xe1o tr\u1ef1c quan \u0111\u1ec3 h\u1ecd ki\xean nh\u1eabn ch\u1edd, \u0111\u1eb7c bi\u1ec7t quan tr\u1ecdng khi k\u1ebft n\u1ed1i internet ch\u1eadm ho\u1eb7c khi d\u1eef li\u1ec7u l\u1edbn."}),"\n",(0,e.jsx)(t.h3,{id:"c\xe2u-2-khi-n\xe0o-n\xean-s\u1eed-d\u1ee5ng-tr\xecnh-t\u1ea3i-loader",children:"C\xe2u 2. Khi n\xe0o n\xean s\u1eed d\u1ee5ng tr\xecnh t\u1ea3i (loader)?"}),"\n",(0,e.jsx)(t.p,{children:"Khi n\u1ed9i dung ch\xednh m\xe0 ng\u01b0\u1eddi d\xf9ng mu\u1ed1n xem ch\u01b0a s\u1eb5n s\xe0ng v\xe0 \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i. N\u1ebfu d\u1eef li\u1ec7u kh\xf4ng quan tr\u1ecdng ho\u1eb7c t\u1ea3i nhanh, c\xf3 th\u1ec3 kh\xf4ng c\u1ea7n loader."}),"\n",(0,e.jsx)(t.h3,{id:"c\xe2u-3-l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-theo-d\xf5i-tr\u1ea1ng-th\xe1i-t\u1ea3i-d\u1eef-li\u1ec7u-trong-react",children:"C\xe2u 3. L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 theo d\xf5i tr\u1ea1ng th\xe1i t\u1ea3i d\u1eef li\u1ec7u trong React?"}),"\n",(0,e.jsx)(t.p,{children:"S\u1eed d\u1ee5ng m\u1ed9t bi\u1ebfn state, v\xed d\u1ee5 isLoading, \u0111\u1ec3 l\u01b0u tr\u1ea1ng th\xe1i t\u1ea3i. Gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh th\u01b0\u1eddng l\xe0 false"}),"\n",(0,e.jsx)(t.h3,{id:"c\xe2u-4-c\xf3-th\u1ec3-kh\u1edfi-t\u1ea1o-isloading-l\xe0-true-ngay-t\u1eeb-\u0111\u1ea7u-kh\xf4ng",children:"C\xe2u 4. C\xf3 th\u1ec3 kh\u1edfi t\u1ea1o isLoading l\xe0 true ngay t\u1eeb \u0111\u1ea7u kh\xf4ng?"}),"\n",(0,e.jsx)(t.p,{children:"C\xf3. N\u1ebfu component fetch d\u1eef li\u1ec7u ngay khi render, ta c\xf3 th\u1ec3 \u0111\u1eb7t useState(true) \u0111\u1ec3 tr\xecnh t\u1ea3i hi\u1ec3n th\u1ecb ngay m\xe0 kh\xf4ng c\u1ea7n g\u1ecdi setIsLoading(true) tr\u01b0\u1edbc fetch."}),"\n",(0,e.jsx)(t.h3,{id:"c\xe2u-5-l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-d\u1eebng-tr\xecnh-t\u1ea3i-khi-fetch-th\xe0nh-c\xf4ng",children:"C\xe2u 5. L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 d\u1eebng tr\xecnh t\u1ea3i khi fetch th\xe0nh c\xf4ng?"}),"\n",(0,e.jsx)(t.p,{children:"G\u1ecdi setIsLoading(false) trong .then() sau khi nh\u1eadn d\u1eef li\u1ec7u"}),"\n",(0,e.jsx)(t.h3,{id:"c\xe2u-6-l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-d\u1eebng-tr\xecnh-t\u1ea3i-khi-fetch-th\u1ea5t-b\u1ea1i",children:"C\xe2u 6. L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 d\u1eebng tr\xecnh t\u1ea3i khi fetch th\u1ea5t b\u1ea1i?"}),"\n",(0,e.jsx)(t.p,{children:"G\u1ecdi setIsLoading(false) trong .catch() \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o loader t\u1eaft ngay c\u1ea3 khi c\xf3 l\u1ed7i"})]})}function a(n={}){const{wrapper:t}={...(0,c.R)(),...n.components};return t?(0,e.jsx)(t,{...n,children:(0,e.jsx)(g,{...n})}):g(n)}},8453:(n,t,i)=>{i.d(t,{R:()=>r,x:()=>d});var h=i(6540);const e={},c=h.createContext(e);function r(n){const t=h.useContext(c);return h.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function d(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(e):n.components||e:r(n.components),h.createElement(c.Provider,{value:t},n.children)}}}]);