"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[6194],{543:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>s,contentTitle:()=>h,default:()=>l,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"react-js/basic/lifting-state-up","title":"Lifting State Up","description":"Lifting state up (n\xe2ng tr\u1ea1ng th\xe1i c\u1ee7a component con l\xean th\xe0nh tr\u1ea1ng th\xe1i c\u1ee7a component cha).","source":"@site/docs/react-js/basic/063-lifting-state-up.md","sourceDirName":"react-js/basic","slug":"/react-js/basic/lifting-state-up","permalink":"/blogs/docs/react-js/basic/lifting-state-up","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":63,"frontMatter":{"sidebar_position":63},"sidebar":"reactJsSidebar","previous":{"title":"T\xe1i c\u1ea5u tr\xfac component","permalink":"/blogs/docs/react-js/basic/component-refactoring"},"next":{"title":"Ph\xe2n chia component","permalink":"/blogs/docs/react-js/basic/component-separation"}}');var i=e(4848),c=e(8453);const r={sidebar_position:63},h="Lifting State Up",s={},d=[{value:"I. Lifting State Up l\xe0 g\xec",id:"i-lifting-state-up-l\xe0-g\xec",level:2},{value:"II. \u1ee8ng d\u1ee5ng th\u1ef1c t\u1ebf",id:"ii-\u1ee9ng-d\u1ee5ng-th\u1ef1c-t\u1ebf",level:2},{value:"III. T\xe1i c\u1ea5u tr\xfac \u1ee9ng d\u1ee5ng Todo",id:"iii-t\xe1i-c\u1ea5u-tr\xfac-\u1ee9ng-d\u1ee5ng-todo",level:2},{value:"IV. N\xe2ng State t\u1eeb Component con l\xean Component cha",id:"iv-n\xe2ng-state-t\u1eeb-component-con-l\xean-component-cha",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"C\xe2u 1: Lifting State Up l\xe0 g\xec?",id:"c\xe2u-1-lifting-state-up-l\xe0-g\xec",level:3},{value:"C\xe2u 2: T\u1ea1i sao c\u1ea7n Lifting State Up?",id:"c\xe2u-2-t\u1ea1i-sao-c\u1ea7n-lifting-state-up",level:3},{value:"C\xe2u 3: Khi n\xe0o n\xean d\xf9ng?",id:"c\xe2u-3-khi-n\xe0o-n\xean-d\xf9ng",level:3}];function a(n){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components},{ToggleTOC:o}=t;return o||function(n,t){throw new Error("Expected "+(t?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"lifting-state-up",children:"Lifting State Up"})}),"\n",(0,i.jsx)(t.p,{children:"Lifting state up (n\xe2ng tr\u1ea1ng th\xe1i c\u1ee7a component con l\xean th\xe0nh tr\u1ea1ng th\xe1i c\u1ee7a component cha)."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Create-HTML-1",src:e(9856).A+"",width:"1200",height:"589"})}),"\n",(0,i.jsx)(o,{}),"\n",(0,i.jsx)(t.h2,{id:"i-lifting-state-up-l\xe0-g\xec",children:"I. Lifting State Up l\xe0 g\xec"}),"\n",(0,i.jsx)(t.p,{children:"\u0110\u1ec3 chia s\u1ebb tr\u1ea1ng th\xe1i gi\u1eefa hai component, b\u1ea1n c\xf3 th\u1ec3 n\xe2ng tr\u1ea1ng th\xe1i \u0111\xf3 l\xean th\xe0nh tr\u1ea1ng th\xe1i c\u1ee7a component cha chung g\u1ea7n nh\u1ea5t c\u1ee7a ch\xfang."}),"\n",(0,i.jsx)(t.p,{children:"\u0110i\u1ec1u n\xe0y c\xf3 ngh\u0129a l\xe0 n\u1ebfu b\u1ea1n c\xf3 hai component ph\u1ee5 thu\u1ed9c v\xe0o c\xf9ng m\u1ed9t tr\u1ea1ng th\xe1i th\xec tr\u1ea1ng th\xe1i s\u1ebd \u0111\u01b0\u1ee3c x\xe1c \u0111\u1ecbnh trong component cha chung g\u1ea7n nh\u1ea5t c\u1ee7a ch\xfang."}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/wmndql?view=Editor+%2B+Preview&module=%2Fsrc%2Fcomponents%2FTodo.js&hidenavigation=1",style:{width:"100%",height:"500px",border:"0",borderRadius:"4px",overflow:"hidden"},title:"Docusaurus Example"}),"\n",(0,i.jsx)(t.h2,{id:"ii-\u1ee9ng-d\u1ee5ng-th\u1ef1c-t\u1ebf",children:"II. \u1ee8ng d\u1ee5ng th\u1ef1c t\u1ebf"}),"\n",(0,i.jsx)(t.p,{children:'Gi\u1ea3 s\u1eed ch\xfang ta mu\u1ed1n x\xe2y d\u1ef1ng m\u1ed9t Danh s\xe1ch vi\u1ec7c c\u1ea7n l\xe0m; ch\xfang ta s\u1ebd c\u1ea7n m\u1ed9t form \u0111\u1ec3 th\xeam "todo" c\u0169ng nh\u01b0 m\u1ed9t danh s\xe1ch ul \u0111\u1ec3 li\u1ec7t k\xea c\xe1c t\xe1c v\u1ee5.'}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",children:'import {useState} from "react";\r\n\r\nfunction TodoApp() {\r\n    const [todos, setTodos] = useState([]);\r\n    const [entry, setEntry] = useState("");\r\n\r\n    function handleEntryChange(event) {\r\n        setEntry(event.target.value);\r\n    }\r\n\r\n    function handleFormSubmit(event) {\r\n        event.preventDefault();\r\n        // add the new entry\r\n        setTodos([...todos, entry]);\r\n        // reset/empty the textbox\r\n        setEntry("");\r\n    }\r\n\r\n    return <>\r\n        <form onSubmit={handleFormSubmit}>\r\n            <label htmlFor="todo">Enter To do: </label>\r\n            <input type="text" id="todo" value={entry} onChange={handleEntryChange} />\r\n        </form>\r\n        <ul>\r\n            {todos.map((todo, index) => <li key={index}>{todo}</li>)}\r\n        </ul>\r\n    </>;\r\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"B\xe2y gi\u1edd h\xe3y t\xe1ch component n\xe0y th\xe0nh 2 component m\u1edbi:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"<TodoForm />"})," ch\u1ee9a ",(0,i.jsx)(t.code,{children:"<form>"})," v\xe0 c\xe1c component con c\u1ee7a n\xf3"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"<TodoList />"})," ch\u1ee9a ",(0,i.jsx)(t.code,{children:"<ul>"})," v\xe0 c\xe1c component con c\u1ee7a n\xf3"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["V\u1ea5n \u0111\u1ec1 l\xe0 c\u1ea3 hai component ",(0,i.jsx)(t.code,{children:"TodoForm"})," v\xe0 ",(0,i.jsx)(t.code,{children:"TodoList"})," \u0111\u1ec1u ph\u1ee5 thu\u1ed9c v\xe0o c\xf9ng m\u1ed9t tr\u1ea1ng th\xe1i, \u0111\xf3 l\xe0 ",(0,i.jsx)(t.code,{children:"todos"})," v\xe0 ",(0,i.jsx)(t.code,{children:"entry"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Bi\u1ec3u m\u1eabu c\u1ea7n tr\u1ea1ng th\xe1i ",(0,i.jsx)(t.code,{children:"todos"})," \u0111\u1ec3 c\xf3 th\u1ec3 th\xeam ",(0,i.jsx)(t.code,{children:"entry"})," m\u1edbi v\xe0o m\u1ea3ng ",(0,i.jsx)(t.code,{children:"todos"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["V\xec v\u1eady, ch\xfang ta ph\u1ea3i n\xe2ng tr\u1ea1ng th\xe1i v\xe0 \u0111\u1ecbnh ngh\u0129a tr\u1ea1ng th\xe1i trong component cha, \u0111\xf3 l\xe0 ",(0,i.jsx)(t.code,{children:"<TodoApp />"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Sau \u0111\xf3, component ",(0,i.jsx)(t.code,{children:"TodoApp"})," n\xe0y s\u1ebd truy\u1ec1n tr\u1ea1ng th\xe1i v\xe0 ph\u01b0\u01a1ng th\u1ee9c ",(0,i.jsx)(t.code,{children:"onChange"})," xu\u1ed1ng c\u1ea3 hai component con."]}),"\n",(0,i.jsx)(t.p,{children:"Nh\u01b0 v\u1eady, tr\u1ea1ng th\xe1i \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong component cha."}),"\n",(0,i.jsx)(t.h2,{id:"iii-t\xe1i-c\u1ea5u-tr\xfac-\u1ee9ng-d\u1ee5ng-todo",children:"III. T\xe1i c\u1ea5u tr\xfac \u1ee9ng d\u1ee5ng Todo"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",children:'// TodoApp.js\r\nimport {useState} from "react";\r\nimport TodoForm from "./TodoForm.js";\r\nimport TodoList from "./TodoList.js";\r\n\r\nfunction TodoApp() {\r\n    const [todos, setTodos] = useState([]);\r\n    const [entry, setEntry] = useState("");\r\n\r\n    function handleEntryChange(event) {\r\n        setEntry(event.target.value);\r\n    }\r\n\r\n    function handleFormSubmit(event) {\r\n        event.preventDefault();\r\n        setTodos([...todos, entry]);\r\n        setEntry("");\r\n    }\r\n\r\n    return <>\r\n        <TodoForm entry={entry} onEntryChange={handleEntryChange} onFormSubmit={handleFormSubmit} />\r\n        <TodoList todos={todos} />\r\n    </>;\r\n}\r\n\r\n// TodoForm.js\r\nfunction TodoForm(props) {\r\n    return <form onSubmit={props.onFormSubmit}>\r\n        <label htmlFor="todo">Enter To do: </label>\r\n        <input type="text" id="todo" value={props.entry} onChange={props.onEntryChange} />\r\n    </form>;\r\n}\r\n\r\n// TodoList.js\r\nfunction TodoList(props) {\r\n    return <ul>\r\n        {props.todos.map((todo, index) => <li key={index}>{todo}</li>)}\r\n    </ul>;\r\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["L\u01b0u \xfd r\u1eb1ng v\u1ec1 m\u1eb7t l\xfd thuy\u1ebft, b\u1ea1n c\xf3 th\u1ec3 \u0111\u1ec3 tr\u1ea1ng th\xe1i ",(0,i.jsx)(t.code,{children:"entry"})," trong component ",(0,i.jsx)(t.code,{children:"TodoForm"}),". Khi \u0111\u1ec1 c\u1eadp \u0111\u1ebfn vi\u1ec7c n\xe2ng tr\u1ea1ng th\xe1i l\xean component cha, r\u1ea5t kh\xf3 \u0111\u1ec3 \u0111\u01b0a ra l\u1eddi khuy\xean \xe1p d\u1ee5ng cho m\u1ecdi t\xecnh hu\u1ed1ng."]}),"\n",(0,i.jsx)(t.p,{children:"Tuy nhi\xean, vi\u1ec7c c\xf3 tr\u1ea1ng th\xe1i chung trong component cha chung g\u1ea7n nh\u1ea5t mang l\u1ea1i m\u1ed9t s\u1ed1 l\u1ee3i \xedch nh\u1ea5t \u0111\u1ecbnh (m\u1eb7c d\xf9 code c\xf3 th\u1ec3 d\xe0i h\u01a1n m\u1ed9t ch\xfat). C\u1ee5 th\u1ec3:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Component cha chung tr\u1edf th\xe0nh ngu\u1ed3n d\u1eef li\u1ec7u duy nh\u1ea5t. \u0110i\u1ec1u n\xe0y gi\xfap d\u1ec5 d\xe0ng vi\u1ec7c t\xecm ki\u1ebfm v\xe0 s\u1eeda l\u1ed7i, v\xec b\u1ea1n bi\u1ebft ch\u1ec9 c\xf3 m\u1ed9t n\u01a1i duy nh\u1ea5t m\xe0 tr\u1ea1ng th\xe1i s\u1ebd \u0111\u01b0\u1ee3c thay \u0111\u1ed5i."}),"\n",(0,i.jsxs)(t.li,{children:["C\xf3 m\u1ed9t v\u1ecb tr\xed qu\u1ea3n l\xfd tr\u1ea1ng th\xe1i chung gi\xfap duy tr\xec t\xednh nh\u1ea5t qu\xe1n trong \u1ee9ng d\u1ee5ng. N\u1ebfu b\u1ea1n t\u1ea1o m\u1ed9t s\u1ed1 logic x\xe1c th\u1ef1c cho ",(0,i.jsx)(t.code,{children:"entry"}),", b\u1ea1n ch\u1ec9 c\u1ea7n th\u1ef1c hi\u1ec7n m\u1ed9t l\u1ea7n duy nh\u1ea5t trong component cha chung."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"iv-n\xe2ng-state-t\u1eeb-component-con-l\xean-component-cha",children:"IV. N\xe2ng State t\u1eeb Component con l\xean Component cha"}),"\n",(0,i.jsx)(t.p,{children:"Ch\xfang ta n\xe2ng tr\u1ea1ng th\xe1i chung l\xean th\xe0nh tr\u1ea1ng th\xe1i c\u1ee7a component cha v\xec ch\xfang ta mu\u1ed1n d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c truy\u1ec1n t\u1eeb component cha xu\u1ed1ng component con."}),"\n",(0,i.jsx)(t.p,{children:"Khi d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c truy\u1ec1n xu\u1ed1ng, \u1ee9ng d\u1ee5ng tr\u1edf n\xean d\u1ec5 d\xe0ng ki\u1ec3m so\xe1t v\xe0 vi\u1ec7c t\xecm ki\u1ebfm v\xe0 c\xf4 l\u1eadp l\u1ed7i tr\u1edf n\xean d\u1ec5 d\xe0ng h\u01a1n."}),"\n",(0,i.jsx)(t.p,{children:"Quy \u01b0\u1edbc \u0111\u1eb7t t\xean onSubjectEvent l\xe0 r\u1ea5t quan tr\u1ecdng v\xec n\xf3 g\u1ee3i nh\u1edb r\u1eb1ng prop l\xe0 m\u1ed9t h\xe0m s\u1ef1 ki\u1ec7n."}),"\n",(0,i.jsx)(t.p,{children:"H\xe3y nh\u1edb r\u1eb1ng c\xf3 nhi\u1ec1u c\xe1ch \u0111\u1ec3 gi\u1ea3i quy\u1ebft c\xf9ng m\u1ed9t b\xe0i t\u1eadp trong React. React kh\xf4ng \xe9p bu\u1ed9c b\u1ea1n ph\u1ea3i s\u1eed d\u1ee5ng m\u1ed9t c\xe1ch duy nh\u1ea5t."}),"\n",(0,i.jsx)(t.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,i.jsx)(t.p,{children:"\u0110\u1ec3 chia s\u1ebb m\u1ed9t tr\u1ea1ng th\xe1i gi\u1eefa hai component, b\u1ea1n c\xf3 th\u1ec3 n\xe2ng tr\u1ea1ng th\xe1i chung l\xean th\xe0nh tr\u1ea1ng th\xe1i c\u1ee7a component cha chung g\u1ea7n nh\u1ea5t c\u1ee7a ch\xfang."})}),"\n",(0,i.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/KuFiYMWOwiM?rel=0",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,i.jsx)(t.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"c\xe2u-1-lifting-state-up-l\xe0-g\xec",children:"C\xe2u 1: Lifting State Up l\xe0 g\xec?"}),"\n",(0,i.jsx)(t.p,{children:"Lifting State Up l\xe0 m\u1ed9t k\u1ef9 thu\u1eadt trong React d\xf9ng \u0111\u1ec3 chia s\u1ebb tr\u1ea1ng th\xe1i (state) gi\u1eefa nhi\u1ec1u component con b\u1eb1ng c\xe1ch di chuy\u1ec3n state l\xean component cha chung. \u0110\xe2y l\xe0 c\xe1ch \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o c\xe1c component c\xf3 th\u1ec3 c\xf9ng truy c\u1eadp v\xe0 c\u1eadp nh\u1eadt m\u1ed9t ngu\u1ed3n d\u1eef li\u1ec7u duy nh\u1ea5t, thay v\xec m\u1ed7i component t\u1ef1 qu\u1ea3n l\xfd ri\xeang."}),"\n",(0,i.jsx)(t.h3,{id:"c\xe2u-2-t\u1ea1i-sao-c\u1ea7n-lifting-state-up",children:"C\xe2u 2: T\u1ea1i sao c\u1ea7n Lifting State Up?"}),"\n",(0,i.jsx)(t.p,{children:"Gi\u1ea3 s\u1eed b\u1ea1n c\xf3 hai component con c\u1ea7n d\xf9ng chung m\u1ed9t d\u1eef li\u1ec7u (v\xed d\u1ee5: gi\xe1 tr\u1ecb nh\u1eadp t\u1eeb ng\u01b0\u1eddi d\xf9ng). N\u1ebfu m\u1ed7i component c\xf3 state ri\xeang, ch\xfang kh\xf4ng th\u1ec3 \u0111\u1ed3ng b\u1ed9 v\u1edbi nhau. Gi\u1ea3i ph\xe1p l\xe0:"}),"\n",(0,i.jsx)(t.p,{children:"\u27a1\ufe0f Di chuy\u1ec3n state l\xean component cha"}),"\n",(0,i.jsx)(t.p,{children:"\u27a1\ufe0f Truy\u1ec1n d\u1eef li\u1ec7u xu\u1ed1ng c\xe1c component con qua props"}),"\n",(0,i.jsx)(t.p,{children:"\u27a1\ufe0f Truy\u1ec1n h\xe0m c\u1eadp nh\u1eadt xu\u1ed1ng \u0111\u1ec3 c\xe1c con c\xf3 th\u1ec3 thay \u0111\u1ed5i state"}),"\n",(0,i.jsx)(t.h3,{id:"c\xe2u-3-khi-n\xe0o-n\xean-d\xf9ng",children:"C\xe2u 3: Khi n\xe0o n\xean d\xf9ng?"}),"\n",(0,i.jsx)(t.p,{children:"\u27a1\ufe0f Khi nhi\u1ec1u component c\u1ea7n d\xf9ng chung m\u1ed9t d\u1eef li\u1ec7u"}),"\n",(0,i.jsx)(t.p,{children:"\u27a1\ufe0f Khi b\u1ea1n mu\u1ed1n \u0111\u1ed3ng b\u1ed9 h\xf3a tr\u1ea1ng th\xe1i gi\u1eefa c\xe1c ph\u1ea7n giao di\u1ec7n"}),"\n",(0,i.jsx)(t.p,{children:"\u27a1\ufe0f Khi c\u1ea7n t\u1ed1i \u01b0u h\xf3a lu\u1ed3ng d\u1eef li\u1ec7u v\xe0 tr\xe1nh tr\xf9ng l\u1eb7p"})]})}function l(n={}){const{wrapper:t}={...(0,c.R)(),...n.components};return t?(0,i.jsx)(t,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},8453:(n,t,e)=>{e.d(t,{R:()=>r,x:()=>h});var o=e(6540);const i={},c=o.createContext(i);function r(n){const t=o.useContext(c);return o.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function h(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),o.createElement(c.Provider,{value:t},n.children)}},9856:(n,t,e)=>{e.d(t,{A:()=>o});const o=e.p+"assets/images/components-76c38e03af1f897c8e8ade55e14457aa.jpg"}}]);