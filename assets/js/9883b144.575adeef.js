"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[8252],{1135:(n,e,t)=>{t.d(e,{A:()=>r});const r=t.p+"assets/images/fetch-b569e0b993dc5cd4d1cfbe12c7d50086.webp"},1467:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>a,frontMatter:()=>h,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"react-js/basic/fetch-error","title":"Fetch Error","description":"C\u1ed1 g\u1eafng truy c\u1eadp v\xe0o m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng/m\u1ea3ng \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 t\u1eeb API fetch tr\u01b0\u1edbc khi fetch ho\xe0n th\xe0nh l\xe0 m\u1ed9t l\u1ed7i ph\u1ed5 bi\u1ebfn khi s\u1eed d\u1ee5ng fetch.","source":"@site/docs/react-js/basic/086-fetch-error.md","sourceDirName":"react-js/basic","slug":"/react-js/basic/fetch-error","permalink":"/blogs/docs/react-js/basic/fetch-error","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":86,"frontMatter":{"sidebar_position":86},"sidebar":"reactJsSidebar","previous":{"title":"Fetch trong Component","permalink":"/blogs/docs/react-js/basic/fetch-component"},"next":{"title":"Fetch API v\u1edbi to\xe1n t\u1eed logic &&","permalink":"/blogs/docs/react-js/basic/fetch-and"}}');var i=t(4848),c=t(8453);const h={sidebar_position:86},s="Fetch Error",o={},d=[{value:"I. Cannot read property X of undefined",id:"i-cannot-read-property-x-of-undefined",level:2},{value:"II. T\u1ea1i sao code g\u1eb7p l\u1ed7i?",id:"ii-t\u1ea1i-sao-code-g\u1eb7p-l\u1ed7i",level:2},{value:"III. C\xe1ch kh\u1eafc ph\u1ee5c v\u1ea5n \u0111\u1ec1",id:"iii-c\xe1ch-kh\u1eafc-ph\u1ee5c-v\u1ea5n-\u0111\u1ec1",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"C\xe2u 1. Fetch Error th\u01b0\u1eddng x\u1ea3y ra trong tr\u01b0\u1eddng h\u1ee3p n\xe0o?",id:"c\xe2u-1-fetch-error-th\u01b0\u1eddng-x\u1ea3y-ra-trong-tr\u01b0\u1eddng-h\u1ee3p-n\xe0o",level:3},{value:"C\xe2u 2. Th\xf4ng b\xe1o l\u1ed7i &quot;Cannot read property X of undefined&quot; c\xf3 ngh\u0129a l\xe0 g\xec?",id:"c\xe2u-2-th\xf4ng-b\xe1o-l\u1ed7i-cannot-read-property-x-of-undefined-c\xf3-ngh\u0129a-l\xe0-g\xec",level:3},{value:"C\xe2u 3. V\xec sao vi\u1ec7c ki\u1ec3m tra \u0111i\u1ec1u ki\u1ec7n khi truy c\u1eadp d\u1eef li\u1ec7u l\u1ea1i quan tr\u1ecdng?",id:"c\xe2u-3-v\xec-sao-vi\u1ec7c-ki\u1ec3m-tra-\u0111i\u1ec1u-ki\u1ec7n-khi-truy-c\u1eadp-d\u1eef-li\u1ec7u-l\u1ea1i-quan-tr\u1ecdng",level:3}];function l(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components},{ToggleTOC:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"fetch-error",children:"Fetch Error"})}),"\n",(0,i.jsx)(e.p,{children:"C\u1ed1 g\u1eafng truy c\u1eadp v\xe0o m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng/m\u1ea3ng \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 t\u1eeb API fetch tr\u01b0\u1edbc khi fetch ho\xe0n th\xe0nh l\xe0 m\u1ed9t l\u1ed7i ph\u1ed5 bi\u1ebfn khi s\u1eed d\u1ee5ng fetch."}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Create-HTML-1",src:t(1135).A+"",width:"1400",height:"788"})}),"\n",(0,i.jsx)(r,{}),"\n",(0,i.jsx)(e.h2,{id:"i-cannot-read-property-x-of-undefined",children:"I. Cannot read property X of undefined"}),"\n",(0,i.jsxs)(e.p,{children:["Cannot read property X of undefined (Kh\xf4ng th\u1ec3 \u0111\u1ecdc tr\u01b0\u1eddng thu\u1ed9c t\xednh X c\u1ee7a undefined) l\xe0 m\u1ed9t trong nh\u1eefng l\u1ed7i ph\u1ed5 bi\u1ebfn nh\u1ea5t m\xe0 b\u1ea1n g\u1eb7p ph\u1ea3i khi l\xe0m vi\u1ec7c v\u1edbi ",(0,i.jsx)(e.code,{children:"Fetch"})," API trong React."]}),"\n",(0,i.jsx)(e.p,{children:"D\u01b0\u1edbi \u0111\xe2y l\xe0 m\u1ed9t v\xed d\u1ee5 v\u1ec1 code l\u1ed7i"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'import {useState, useEffect} from "react";\r\n\r\nfunction App() {\r\n    const [users, setUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        fetch("https://jsonplaceholder.typicode.com/users")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            setUsers(data);\r\n        });\r\n    }, []);\r\n    \r\n    // \u274c This will throw an error\r\n    return <h1>There are {users.length} users</h1>\r\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"Code tr\xean s\u1ebd \u0111\u01b0a ra th\xf4ng b\xe1o l\u1ed7i: Cannot read property 'length' of undefined."}),"\n",(0,i.jsxs)(e.p,{children:["\u0110i\u1ec1u n\xe0y c\xf3 ngh\u0129a l\xe0 trong bi\u1ec3u th\u1ee9c ",(0,i.jsx)(e.code,{children:"users.length"}),", ",(0,i.jsx)(e.code,{children:"users"})," c\xf3 gi\xe1 tr\u1ecb l\xe0 ",(0,i.jsx)(e.code,{children:"undefined"}),", v\xec v\u1eady ch\xfang ta kh\xf4ng th\u1ec3 truy c\u1eadp ",(0,i.jsx)(e.code,{children:".length"})," tr\xean n\xf3 v\xec \u0111i\u1ec1u \u0111\xf3 t\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u1edbi vi\u1ec7c ch\u1ea1y ",(0,i.jsx)(e.code,{children:"undefined.length"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"ii-t\u1ea1i-sao-code-g\u1eb7p-l\u1ed7i",children:"II. T\u1ea1i sao code g\u1eb7p l\u1ed7i?"}),"\n",(0,i.jsxs)(e.p,{children:["Code g\u1eb7p l\u1ed7i v\xec v\xe0o l\u1ea7n hi\u1ec3n th\u1ecb \u0111\u1ea7u ti\xean c\u1ee7a component, gi\xe1 tr\u1ecb c\u1ee7a ",(0,i.jsx)(e.code,{children:"users"})," l\xe0 ",(0,i.jsx)(e.code,{children:"undefined"})," do khai b\xe1o ",(0,i.jsx)(e.code,{children:"useState"})," nh\u01b0 sau: ",(0,i.jsx)(e.code,{children:"const [users, setUsers] = useState();"}),"."]}),"\n",(0,i.jsxs)(e.p,{children:["B\u1ea1n ph\u1ea3i nh\u1edb r\u1eb1ng ",(0,i.jsx)(e.code,{children:"setUsers(data)"})," \u0111\u01b0\u1ee3c g\u1ecdi b\xean trong ",(0,i.jsx)(e.code,{children:".then()"})," s\u1ebd th\u1ef1c thi v\xe0o m\u1ed9t th\u1eddi \u0111i\u1ec3m trong t\u01b0\u01a1ng lai."]}),"\n",(0,i.jsxs)(e.p,{children:["V\xec v\u1eady, \u1edf l\u1ea7n hi\u1ec3n th\u1ecb \u0111\u1ea7u ti\xean c\u1ee7a component App, ",(0,i.jsx)(e.code,{children:"users"})," l\xe0 ",(0,i.jsx)(e.code,{children:"undefined"})," v\xe0 vi\u1ec7c c\u1ed1 g\u1eafng truy c\u1eadp ",(0,i.jsx)(e.code,{children:"users.length"})," s\u1ebd g\xe2y ra l\u1ed7i. Khi ",(0,i.jsx)(e.code,{children:"fetch"})," ho\xe0n th\xe0nh v\xe0 ch\xfang ta nh\u1eadn \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u v\xe0 g\u1ecdi ",(0,i.jsx)(e.code,{children:"setUsers(data)"}),", ",(0,i.jsx)(e.code,{children:"users.length"})," m\u1edbi tr\u1edf th\xe0nh gi\xe1 tr\u1ecb h\u1ee3p l\u1ec7. Tuy nhi\xean, component \u0111\xe3 b\u1ecb l\u1ed7i tr\u01b0\u1edbc \u0111\xf3."]}),"\n",(0,i.jsx)(e.h2,{id:"iii-c\xe1ch-kh\u1eafc-ph\u1ee5c-v\u1ea5n-\u0111\u1ec1",children:"III. C\xe1ch kh\u1eafc ph\u1ee5c v\u1ea5n \u0111\u1ec1"}),"\n",(0,i.jsx)(e.p,{children:"C\xf3 nhi\u1ec1u c\xe1ch \u0111\u1ec3 gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 n\xe0y, t\xf9y thu\u1ed9c v\xe0o nhi\u1ec7m v\u1ee5 c\u1ee7a component."}),"\n",(0,i.jsx)(e.p,{children:"Ch\xfang ta ki\u1ec3m tra if (!users) (ho\u1eb7c if (users === undefined)) v\xe0 tr\u1ea3 v\u1ec1 null ho\u1eb7c th\xf4ng b\xe1o nh\u01b0 Loading...:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'import {useState, useEffect} from "react";\r\n\r\nfunction App() {\r\n    const [users, setUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        fetch("https://jsonplaceholder.typicode.com/users")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            setUsers(data);\r\n        });\r\n    }, []);\r\n    \r\n    if (!users) {\r\n        return null;\r\n    }\r\n\r\n    return <h1>There are {users.length} users</h1>\r\n}\n'})}),"\n",(0,i.jsx)(e.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"C\u1ed1 g\u1eafng truy c\u1eadp v\xe0o m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng/m\u1ea3ng \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 t\u1eeb API fetch tr\u01b0\u1edbc khi fetch ho\xe0n th\xe0nh l\xe0 m\u1ed9t l\u1ed7i ph\u1ed5 bi\u1ebfn khi s\u1eed d\u1ee5ng fetch."}),"\n",(0,i.jsx)(e.li,{children:"\u0110\u1ec3 tr\xe1nh g\u1eb7p l\u1ed7i n\xe0y, b\u1ea1n c\xf3 th\u1ec3 th\xeam m\u1ed9t \u0111i\u1ec1u ki\u1ec7n if v\xe0 tr\u1ea3 v\u1ec1 JSX kh\xe1c (k\u1ebft xu\u1ea5t c\xf3 \u0111i\u1ec1u ki\u1ec7n)."}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-1-fetch-error-th\u01b0\u1eddng-x\u1ea3y-ra-trong-tr\u01b0\u1eddng-h\u1ee3p-n\xe0o",children:"C\xe2u 1. Fetch Error th\u01b0\u1eddng x\u1ea3y ra trong tr\u01b0\u1eddng h\u1ee3p n\xe0o?"}),"\n",(0,i.jsx)(e.p,{children:"Fetch Error th\u01b0\u1eddng x\u1ea3y ra khi b\u1ea1n c\u1ed1 g\u1eafng truy c\u1eadp v\xe0o d\u1eef li\u1ec7u (object/array) \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 t\u1eeb API tr\u01b0\u1edbc khi qu\xe1 tr\xecnh fetch ho\xe0n t\u1ea5t. \u0110i\u1ec1u n\xe0y d\u1eabn \u0111\u1ebfn vi\u1ec7c bi\u1ebfn ch\u1ee9a d\u1eef li\u1ec7u v\u1eabn l\xe0 undefined."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-2-th\xf4ng-b\xe1o-l\u1ed7i-cannot-read-property-x-of-undefined-c\xf3-ngh\u0129a-l\xe0-g\xec",children:'C\xe2u 2. Th\xf4ng b\xe1o l\u1ed7i "Cannot read property X of undefined" c\xf3 ngh\u0129a l\xe0 g\xec?'}),"\n",(0,i.jsx)(e.p,{children:"N\xf3 c\xf3 ngh\u0129a l\xe0 b\u1ea1n \u0111ang c\u1ed1 g\u1eafng truy c\u1eadp m\u1ed9t thu\u1ed9c t\xednh (v\xed d\u1ee5 .length) c\u1ee7a m\u1ed9t bi\u1ebfn c\xf3 gi\xe1 tr\u1ecb undefined. Trong v\xed d\u1ee5, users ch\u01b0a \u0111\u01b0\u1ee3c g\xe1n d\u1eef li\u1ec7u n\xean users.length g\xe2y l\u1ed7i."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-3-v\xec-sao-vi\u1ec7c-ki\u1ec3m-tra-\u0111i\u1ec1u-ki\u1ec7n-khi-truy-c\u1eadp-d\u1eef-li\u1ec7u-l\u1ea1i-quan-tr\u1ecdng",children:"C\xe2u 3. V\xec sao vi\u1ec7c ki\u1ec3m tra \u0111i\u1ec1u ki\u1ec7n khi truy c\u1eadp d\u1eef li\u1ec7u l\u1ea1i quan tr\u1ecdng?"}),"\n",(0,i.jsx)(e.p,{children:"V\xec n\xf3 \u0111\u1ea3m b\u1ea3o r\u1eb1ng component kh\xf4ng c\u1ed1 g\u1eafng truy c\u1eadp d\u1eef li\u1ec7u khi d\u1eef li\u1ec7u ch\u01b0a s\u1eb5n s\xe0ng. \u0110i\u1ec1u n\xe0y gi\xfap tr\xe1nh l\u1ed7i runtime v\xe0 c\u1ea3i thi\u1ec7n tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\xf9ng b\u1eb1ng c\xe1ch hi\u1ec3n th\u1ecb tr\u1ea1ng th\xe1i t\u1ea3i (Loading)."})]})}function a(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>h,x:()=>s});var r=t(6540);const i={},c=r.createContext(i);function h(n){const e=r.useContext(c);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:h(n.components),r.createElement(c.Provider,{value:e},n.children)}}}]);