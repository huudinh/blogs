"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[9610],{1410:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>h,default:()=>g,frontMatter:()=>r,metadata:()=>c,toc:()=>o});const c=JSON.parse('{"id":"react-js/basic/storage-restore","title":"Kh\xf4i ph\u1ee5c State t\u1eeb localStorage","description":"C\xf3 ngh\u0129a l\xe0 gi\xe1 tr\u1ecb kh\u1edfi t\u1ea1o m\xe0 ta cung c\u1ea5p cho useState s\u1ebd \u0111\u1ebfn t\u1eeb localStorage.","source":"@site/docs/react-js/basic/081-storage-restore.md","sourceDirName":"react-js/basic","slug":"/react-js/basic/storage-restore","permalink":"/blogs/docs/react-js/basic/storage-restore","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":80,"frontMatter":{"sidebar_position":80},"sidebar":"reactJsSidebar","previous":{"title":"Object trong LocalStorage","permalink":"/blogs/docs/react-js/basic/storage-object"}}');var i=t(4848),l=t(8453);const r={sidebar_position:80},h="Kh\xf4i ph\u1ee5c State t\u1eeb localStorage",a={},o=[{value:"I. Chu\u1ed7i",id:"i-chu\u1ed7i",level:2},{value:"II. S\u1ed1",id:"ii-s\u1ed1",level:2},{value:"III. Boolean",id:"iii-boolean",level:2},{value:"IV. Gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh",id:"iv-gi\xe1-tr\u1ecb-m\u1eb7c-\u0111\u1ecbnh",level:2},{value:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n",id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",level:2},{value:"C\xe2u 1. Kh\xf4i ph\u1ee5c tr\u1ea1ng th\xe1i t\u1eeb localStorage ngh\u0129a l\xe0 g\xec??",id:"c\xe2u-1-kh\xf4i-ph\u1ee5c-tr\u1ea1ng-th\xe1i-t\u1eeb-localstorage-ngh\u0129a-l\xe0-g\xec",level:3},{value:"C\xe2u 2. Khi l\u01b0u s\u1ed1 trong localStorage, l\xe0m sao \u0111\u1ec3 \u0111\u1ecdc l\u1ea1i d\u01b0\u1edbi d\u1ea1ng s\u1ed1?",id:"c\xe2u-2-khi-l\u01b0u-s\u1ed1-trong-localstorage-l\xe0m-sao-\u0111\u1ec3-\u0111\u1ecdc-l\u1ea1i-d\u01b0\u1edbi-d\u1ea1ng-s\u1ed1",level:3},{value:"C\xe2u 3. L\xe0m sao \u0111\u1ec3 \u0111\u1ecdc gi\xe1 tr\u1ecb boolean t\u1eeb localStorage?",id:"c\xe2u-3-l\xe0m-sao-\u0111\u1ec3-\u0111\u1ecdc-gi\xe1-tr\u1ecb-boolean-t\u1eeb-localstorage",level:3},{value:"C\xe2u 4. T\u1ea1i sao c\u1ea7n g\xe1n gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh khi \u0111\u1ecdc m\u1ea3ng t\u1eeb localStorage?",id:"c\xe2u-4-t\u1ea1i-sao-c\u1ea7n-g\xe1n-gi\xe1-tr\u1ecb-m\u1eb7c-\u0111\u1ecbnh-khi-\u0111\u1ecdc-m\u1ea3ng-t\u1eeb-localstorage",level:3},{value:"C\xe2u 5. S\u1ef1 kh\xe1c bi\u1ec7t gi\u1eefa Number.parseInt() v\xe0 Number.parseFloat() l\xe0 g\xec?",id:"c\xe2u-5-s\u1ef1-kh\xe1c-bi\u1ec7t-gi\u1eefa-numberparseint-v\xe0-numberparsefloat-l\xe0-g\xec",level:3},{value:"C\xe2u 6. L\u1ee3i \xedch c\u1ee7a vi\u1ec7c kh\xf4i ph\u1ee5c tr\u1ea1ng th\xe1i t\u1eeb localStorage trong \u1ee9ng d\u1ee5ng React l\xe0 g\xec?",id:"c\xe2u-6-l\u1ee3i-\xedch-c\u1ee7a-vi\u1ec7c-kh\xf4i-ph\u1ee5c-tr\u1ea1ng-th\xe1i-t\u1eeb-localstorage-trong-\u1ee9ng-d\u1ee5ng-react-l\xe0-g\xec",level:3}];function s(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components},{ToggleTOC:c}=e;return c||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ToggleTOC",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"kh\xf4i-ph\u1ee5c-state-t\u1eeb-localstorage",children:"Kh\xf4i ph\u1ee5c State t\u1eeb localStorage"})}),"\n",(0,i.jsxs)(e.p,{children:["C\xf3 ngh\u0129a l\xe0 gi\xe1 tr\u1ecb kh\u1edfi t\u1ea1o m\xe0 ta cung c\u1ea5p cho ",(0,i.jsx)(e.code,{children:"useState"})," s\u1ebd \u0111\u1ebfn t\u1eeb localStorage."]}),"\n",(0,i.jsx)(e.p,{children:"\u0110i\u1ec1u n\xe0y cho ph\xe9p b\u1ea1n l\u01b0u tr\u1eef thi\u1ebft l\u1eadp cho ch\u1ebf \u0111\u1ed9 t\u1ed1i, n\u1ebfu ng\u01b0\u1eddi d\xf9ng ch\u1ecdn ch\u1ebf \u0111\u1ed9 t\u1ed1i v\xe0 quay tr\u1edf l\u1ea1i trang web trong t\u01b0\u01a1ng lai, trang s\u1ebd v\u1eabn \u1edf ch\u1ebf \u0111\u1ed9 t\u1ed1i v\xec ch\xfang ta \u0111\xe3 l\u01b0u tr\u1eef gi\xe1 tr\u1ecb \u0111\xf3 trong localStorage."}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Create-HTML-1",src:t(7396).A+"",width:"1280",height:"720"})}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(e.p,{children:"Ch\xfang ta s\u1ebd c\xf9ng t\xecm hi\u1ec3u c\xe1ch \u0111\u1ecdc gi\xe1 tr\u1ecb \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef trong localStorage, c\xe1ch l\xe0m c\xf3 ch\xfat kh\xe1c bi\u1ec7t t\xf9y thu\u1ed9c v\xe0o ki\u1ec3u d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef."}),"\n",(0,i.jsx)(e.h2,{id:"i-chu\u1ed7i",children:"I. Chu\u1ed7i"}),"\n",(0,i.jsx)(e.p,{children:"\u0110\u1ecdc chu\u1ed7i t\u1eeb localStorage l\xe0 l\u1ef1a ch\u1ecdn \u0111\u01a1n gi\u1ea3n nh\u1ea5t v\xec localStorage l\u01b0u tr\u1eef m\u1ecdi th\u1ee9 d\u01b0\u1edbi d\u1ea1ng chu\u1ed7i."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'localStorage.getItem("key-here");\n'})}),"\n",(0,i.jsx)(e.h2,{id:"ii-s\u1ed1",children:"II. S\u1ed1"}),"\n",(0,i.jsx)(e.p,{children:"B\u1edfi v\xec localStorage lu\xf4n tr\u1ea3 v\u1ec1 chu\u1ed7i, ch\xfang ta c\u1ea7n chuy\u1ec3n \u0111\u1ed5i chu\u1ed7i th\xe0nh s\u1ed1 m\u1ed9t c\xe1ch th\u1ee7 c\xf4ng:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'let value = localStorage.getItem("key-here");\r\nvalue = Number.parseInt(value, 10); // convert to number\n'})}),"\n",(0,i.jsxs)(e.p,{children:["B\u1ea1n c\u0169ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng ",(0,i.jsx)(e.code,{children:"Number.parseFloat (value, 10)"})," n\u1ebfu mu\u1ed1n hi\u1ec3n th\u1ecb ph\u1ea7n th\u1eadp ph\xe2n (v\xed d\u1ee5: 12.5)."]}),"\n",(0,i.jsx)(e.p,{children:"S\u1ed1 10 ch\xednh l\xe0 \u0111\u1ed1i s\u1ed1 th\u1ee9 hai, g\u1ecdi l\xe0 c\u01a1 s\u1ed1."}),"\n",(0,i.jsx)(e.h2,{id:"iii-boolean",children:"III. Boolean"}),"\n",(0,i.jsxs)(e.p,{children:["Gi\xe1 tr\u1ecb ",(0,i.jsx)(e.code,{children:"boolean"})," c\xf3 th\u1ec3 l\xe0 ",(0,i.jsx)(e.code,{children:"true"})," ho\u1eb7c ",(0,i.jsx)(e.code,{children:"false"}),". Khi \u0111\u01b0\u1ee3c l\u01b0u v\xe0o localStorage, ch\xfang s\u1ebd l\xe0 ",(0,i.jsx)(e.code,{children:'"true"'})," ho\u1eb7c ",(0,i.jsx)(e.code,{children:'"false"'})," (v\xec ch\xfang \u0111\u01b0\u1ee3c chuy\u1ec3n \u0111\u1ed5i th\xe0nh chu\u1ed7i)."]}),"\n",(0,i.jsxs)(e.p,{children:["C\xe1ch chuy\u1ec3n \u0111\u1ed5i chu\u1ed7i tr\u1edf l\u1ea1i th\xe0nh ",(0,i.jsx)(e.code,{children:"boolean"})," \u0111\u01a1n gi\u1ea3n nh\u1ea5t l\xe0 so s\xe1nh m\u1ee5c trong localStorage v\u1edbi chu\u1ed7i ",(0,i.jsx)(e.code,{children:'"true"'}),";"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'"true" === "true" // true (means original value was true)\r\n"false" === "true" // false (means original value was false)\n'})}),"\n",(0,i.jsx)(e.p,{children:"D\u01b0\u1edbi \u0111\xe2y l\xe0 c\xe1ch vi\u1ebft khi \u0111\u1ecdc t\u1eeb localStorage:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'const value = localStorage.getItem("key-here") === "true";\n'})}),"\n",(0,i.jsxs)(e.p,{children:["B\u1eb1ng c\xe1ch so s\xe1nh v\u1edbi chu\u1ed7i ",(0,i.jsx)(e.code,{children:'"true"'}),", b\u1ea1n \u0111ang chuy\u1ec3n \u0111\u1ed5i gi\xe1 tr\u1ecb t\u1eeb chu\u1ed7i th\xe0nh ki\u1ec3u ",(0,i.jsx)(e.code,{children:"boolean"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"iv-gi\xe1-tr\u1ecb-m\u1eb7c-\u0111\u1ecbnh",children:"IV. Gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh"}),"\n",(0,i.jsxs)(e.p,{children:["Khi b\u1ea1n \u0111\u1ecdc m\u1ed9t kh\xf3a ch\u01b0a \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef trong localStorage, k\u1ebft qu\u1ea3 s\u1ebd tr\u1ea3 v\u1ec1 gi\xe1 tr\u1ecb ",(0,i.jsx)(e.code,{children:"null"}),"."]}),"\n",(0,i.jsx)(e.p,{children:"B\u1ea1n c\xf3 th\u1ec3 \u0111\u1eb7t gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh cho bi\u1ebfn theo nhi\u1ec1u c\xe1ch nh\u01b0 c\xe2u l\u1ec7nh if, to\xe1n t\u1eed ba ng\xf4i ho\u1eb7c to\xe1n t\u1eed 3 ng\xf4i (??)."}),"\n",(0,i.jsx)(e.p,{children:"D\u01b0\u1edbi \u0111\xe2y l\xe0 m\u1ed9t s\u1ed1 v\xed d\u1ee5 g\xe1n gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh l\xe0 m\u1ea3ng r\u1ed7ng:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'// using an if condition\r\nlet value = []; // default value\r\nif (localStorage.getItem("key-here")) {\r\n    value = localStorage.getItem("key-here");\r\n}\r\n\r\n// OR: using the ternary operator\r\nconst value = localStorage.getItem("key-here") !== null ? localStorage.getItem("key-here") : [];\r\n\r\n// OR: using the nullish coalescing operator\r\nconst value = localStorage.getItem("key-here") ?? [];\n'})}),"\n",(0,i.jsxs)(e.p,{children:["Ch\xfang ta c\u1ea7n \u0111\u1eb7t gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh cho m\u1ea3ng n\u1ebfu mong \u0111\u1ee3i localStorage tr\u1ea3 v\u1ec1 m\u1ea3ng. \u0110i\u1ec1u n\xe0y \u0111\u1ea3m b\u1ea3o r\u1eb1ng vi\u1ec7c g\u1ecdi ",(0,i.jsx)(e.code,{children:".map()"})," ho\u1eb7c c\xe1c ph\u01b0\u01a1ng th\u1ee9c m\u1ea3ng kh\xe1c s\u1ebd kh\xf4ng g\xe2y l\u1ed7i n\u1ebfu ",(0,i.jsx)(e.code,{children:"localStorage.getItem()"})," tr\u1ea3 v\u1ec1 ",(0,i.jsx)(e.code,{children:"null"}),"."]}),"\n",(0,i.jsx)(e.admonition,{title:"T\xf3m l\u1ea1i",type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u0110\u1ecdc chu\u1ed7i t\u1eeb localStorage l\xe0 l\u1ef1a ch\u1ecdn \u0111\u01a1n gi\u1ea3n nh\u1ea5t v\xec localStorage l\u01b0u tr\u1eef m\u1ecdi th\u1ee9 d\u01b0\u1edbi d\u1ea1ng chu\u1ed7i"}),"\n",(0,i.jsxs)(e.li,{children:["\u0110\u1ed1i v\u1edbi s\u1ed1, ch\xfang ta c\u1ea7n chuy\u1ec3n \u0111\u1ed5i t\u1eeb chu\u1ed7i sang s\u1ed1 b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,i.jsx)(e.code,{children:'Number.parseInt ("string", 10)'})]}),"\n",(0,i.jsxs)(e.li,{children:["\u0110\u1ed1i v\u1edbi gi\xe1 tr\u1ecb ",(0,i.jsx)(e.code,{children:"boolean"}),", ch\xfang ta c\u1ea7n so s\xe1nh v\u1edbi chu\u1ed7i ",(0,i.jsx)(e.code,{children:'"true"'})," \u0111\u1ec3  chuy\u1ec3n \u0111\u1ed5i th\xe0nh gi\xe1 tr\u1ecb boolean t\u01b0\u01a1ng \u1ee9ng."]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"faq---c\xe2u-h\u1ecfi-th\u01b0\u1eddng-g\u1eb7p-khi-ph\u1ecfng-v\u1ea5n",children:"FAQ - C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p khi ph\u1ecfng v\u1ea5n"}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-1-kh\xf4i-ph\u1ee5c-tr\u1ea1ng-th\xe1i-t\u1eeb-localstorage-ngh\u0129a-l\xe0-g\xec",children:"C\xe2u 1. Kh\xf4i ph\u1ee5c tr\u1ea1ng th\xe1i t\u1eeb localStorage ngh\u0129a l\xe0 g\xec??"}),"\n",(0,i.jsx)(e.p,{children:"Ngh\u0129a l\xe0 gi\xe1 tr\u1ecb kh\u1edfi t\u1ea1o m\xe0 ch\xfang ta cung c\u1ea5p cho useState (ho\u1eb7c bi\u1ebfn tr\u1ea1ng th\xe1i kh\xe1c) s\u1ebd \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb d\u1eef li\u1ec7u \u0111\xe3 l\u01b0u trong localStorage. \u0110i\u1ec1u n\xe0y cho ph\xe9p l\u01b0u v\xe0 kh\xf4i ph\u1ee5c thi\u1ebft l\u1eadp (v\xed d\u1ee5: ch\u1ebf \u0111\u1ed9 t\u1ed1i) khi ng\u01b0\u1eddi d\xf9ng quay l\u1ea1i trang."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-2-khi-l\u01b0u-s\u1ed1-trong-localstorage-l\xe0m-sao-\u0111\u1ec3-\u0111\u1ecdc-l\u1ea1i-d\u01b0\u1edbi-d\u1ea1ng-s\u1ed1",children:"C\xe2u 2. Khi l\u01b0u s\u1ed1 trong localStorage, l\xe0m sao \u0111\u1ec3 \u0111\u1ecdc l\u1ea1i d\u01b0\u1edbi d\u1ea1ng s\u1ed1?"}),"\n",(0,i.jsx)(e.p,{children:"C\u1ea7n chuy\u1ec3n \u0111\u1ed5i chu\u1ed7i sang s\u1ed1 b\u1eb1ng Number.parseInt() ho\u1eb7c Number.parseFloat()."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-3-l\xe0m-sao-\u0111\u1ec3-\u0111\u1ecdc-gi\xe1-tr\u1ecb-boolean-t\u1eeb-localstorage",children:"C\xe2u 3. L\xe0m sao \u0111\u1ec3 \u0111\u1ecdc gi\xe1 tr\u1ecb boolean t\u1eeb localStorage?"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",metastring:'title="So s\xe1nh tr\u1ef1c ti\u1ebfp v\u1edbi chu\u1ed7i "true":"',children:'const isDarkMode = localStorage.getItem("dark-mode") === "true";\n'})}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-4-t\u1ea1i-sao-c\u1ea7n-g\xe1n-gi\xe1-tr\u1ecb-m\u1eb7c-\u0111\u1ecbnh-khi-\u0111\u1ecdc-m\u1ea3ng-t\u1eeb-localstorage",children:"C\xe2u 4. T\u1ea1i sao c\u1ea7n g\xe1n gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh khi \u0111\u1ecdc m\u1ea3ng t\u1eeb localStorage?"}),"\n",(0,i.jsx)(e.p,{children:"\u0110\u1ec3 tr\xe1nh l\u1ed7i khi g\u1ecdi c\xe1c ph\u01b0\u01a1ng th\u1ee9c m\u1ea3ng nh\u01b0 .map() ho\u1eb7c .filter() n\u1ebfu getItem() tr\u1ea3 v\u1ec1 null."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-5-s\u1ef1-kh\xe1c-bi\u1ec7t-gi\u1eefa-numberparseint-v\xe0-numberparsefloat-l\xe0-g\xec",children:"C\xe2u 5. S\u1ef1 kh\xe1c bi\u1ec7t gi\u1eefa Number.parseInt() v\xe0 Number.parseFloat() l\xe0 g\xec?"}),"\n",(0,i.jsx)(e.p,{children:"Number.parseInt() chuy\u1ec3n \u0111\u1ed5i chu\u1ed7i th\xe0nh s\u1ed1 nguy\xean."}),"\n",(0,i.jsx)(e.p,{children:"Number.parseFloat() chuy\u1ec3n \u0111\u1ed5i chu\u1ed7i th\xe0nh s\u1ed1 th\u1ef1c, gi\u1eef l\u1ea1i ph\u1ea7n th\u1eadp ph\xe2n."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe2u-6-l\u1ee3i-\xedch-c\u1ee7a-vi\u1ec7c-kh\xf4i-ph\u1ee5c-tr\u1ea1ng-th\xe1i-t\u1eeb-localstorage-trong-\u1ee9ng-d\u1ee5ng-react-l\xe0-g\xec",children:"C\xe2u 6. L\u1ee3i \xedch c\u1ee7a vi\u1ec7c kh\xf4i ph\u1ee5c tr\u1ea1ng th\xe1i t\u1eeb localStorage trong \u1ee9ng d\u1ee5ng React l\xe0 g\xec?"}),"\n",(0,i.jsx)(e.p,{children:"Gi\xfap \u1ee9ng d\u1ee5ng ghi nh\u1edb l\u1ef1a ch\u1ecdn c\u1ee7a ng\u01b0\u1eddi d\xf9ng (nh\u01b0 ch\u1ebf \u0111\u1ed9 t\u1ed1i/s\xe1ng, ng\xf4n ng\u1eef, thi\u1ebft l\u1eadp c\xe1 nh\xe2n) ngay c\u1ea3 khi ng\u01b0\u1eddi d\xf9ng reload trang ho\u1eb7c quay l\u1ea1i sau n\xe0y."})]})}function g(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(s,{...n})}):s(n)}},7396:(n,e,t)=>{t.d(e,{A:()=>c});const c=t.p+"assets/images/localStorage-26d6d2cda9618c2fa6de457f986b1921.png"},8453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>h});var c=t(6540);const i={},l=c.createContext(i);function r(n){const e=c.useContext(l);return c.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function h(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),c.createElement(l.Provider,{value:e},n.children)}}}]);