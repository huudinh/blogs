<!doctype html>
<html lang="vi" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-react-js/basic/effect-performance" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Effect &amp; Performance | Frontend Developer Blogs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://huudinh.github.io/blogs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://huudinh.github.io/blogs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://huudinh.github.io/blogs/docs/react-js/basic/effect-performance"><meta data-rh="true" property="og:locale" content="vi"><meta data-rh="true" name="docusaurus_locale" content="vi"><meta data-rh="true" name="docsearch:language" content="vi"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Effect &amp; Performance | Frontend Developer Blogs"><meta data-rh="true" name="description" content="Chúng ta đã sử dụng useEffect khá nhiều nhưng chưa thực sự tìm hiểu về ảnh hưởng của nó đến hiệu suất."><meta data-rh="true" property="og:description" content="Chúng ta đã sử dụng useEffect khá nhiều nhưng chưa thực sự tìm hiểu về ảnh hưởng của nó đến hiệu suất."><link data-rh="true" rel="icon" href="/blogs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://huudinh.github.io/blogs/docs/react-js/basic/effect-performance"><link data-rh="true" rel="alternate" href="https://huudinh.github.io/blogs/docs/react-js/basic/effect-performance" hreflang="vi"><link data-rh="true" rel="alternate" href="https://huudinh.github.io/blogs/docs/react-js/basic/effect-performance" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"React Basic","item":"https://huudinh.github.io/blogs/docs/category/react-basic"},{"@type":"ListItem","position":2,"name":"Effect & Performance","item":"https://huudinh.github.io/blogs/docs/react-js/basic/effect-performance"}]}</script><link rel="alternate" type="application/rss+xml" href="/blogs/blog/rss.xml" title="Frontend Developer Blogs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blogs/blog/atom.xml" title="Frontend Developer Blogs Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RKMVJBN6MY"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RKMVJBN6MY",{anonymize_ip:!0})</script><link rel="stylesheet" href="/blogs/assets/css/styles.950630ca.css">
<script src="/blogs/assets/js/runtime~main.2907fbf0.js" defer="defer"></script>
<script src="/blogs/assets/js/main.5eac12bc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/blogs/img/logo.svg"><div role="region" aria-label="Chuyển tới nội dung chính"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Chuyển tới nội dung chính</a></div><nav aria-label="Thanh điều hướng" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Đóng - mở thanh điều hướng" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blogs/"><div class="navbar__logo"><img src="/blogs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/blogs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Dinh Trieu</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blogs/docs/react-js/introduction">React JS</a><a class="navbar__item navbar__link" href="/blogs/docs/react-native/introduction">React Native</a><a class="navbar__item navbar__link" href="/blogs/blog">Blogs</a><a class="navbar__item navbar__link" href="/blogs/favorites">Bài viết yêu thích</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/huudinh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Chuyển đổi chế độ sáng và tối (hiện tại là system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Trở lại đầu trang" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Thanh điều hướng tài liệu" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blogs/docs/react-js/introduction"><span title="Giới thiệu React" class="linkLabel_WmDU">Giới thiệu React</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/blogs/docs/category/react-basic"><span title="React Basic" class="categoryLinkLabel_W154">React Basic</span></a><button aria-label="Thu gọn danh mục &#x27;React Basic&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/array-key"><span title="Key trong React" class="linkLabel_WmDU">Key trong React</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/object-immutable"><span title="Thao tác bất biến với Object" class="linkLabel_WmDU">Thao tác bất biến với Object</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/object-remove"><span title="Loại bỏ key-value khỏi Object" class="linkLabel_WmDU">Loại bỏ key-value khỏi Object</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/object-state"><span title="Khai báo State là Object" class="linkLabel_WmDU">Khai báo State là Object</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/input-value"><span title="Default Value" class="linkLabel_WmDU">Default Value</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/input-change"><span title="Thay đổi nội dung Input" class="linkLabel_WmDU">Thay đổi nội dung Input</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/form-controlled"><span title="Controlled component" class="linkLabel_WmDU">Controlled component</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/form-submit"><span title="Form Submit" class="linkLabel_WmDU">Form Submit</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/accessibility"><span title="Accessibility" class="linkLabel_WmDU">Accessibility</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/label"><span title="Label" class="linkLabel_WmDU">Label</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/component-stateless-stateful"><span title="Stateless và Stateful" class="linkLabel_WmDU">Stateless và Stateful</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/component-props-function"><span title="Truyền Function vào Props" class="linkLabel_WmDU">Truyền Function vào Props</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/component-refactoring"><span title="Tái cấu trúc component" class="linkLabel_WmDU">Tái cấu trúc component</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/lifting-state-up"><span title="Lifting State Up" class="linkLabel_WmDU">Lifting State Up</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/component-separation"><span title="Phân chia component" class="linkLabel_WmDU">Phân chia component</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/state-performance"><span title="Cải thiện hiệu suất của ứng dụng" class="linkLabel_WmDU">Cải thiện hiệu suất của ứng dụng</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/update-state"><span title="Update State" class="linkLabel_WmDU">Update State</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect"><span title="Effect" class="linkLabel_WmDU">Effect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-more"><span title="Tại sao nên dùng Effect" class="linkLabel_WmDU">Tại sao nên dùng Effect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-clean"><span title="Clean Effect" class="linkLabel_WmDU">Clean Effect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-clean-timer"><span title="Clean Timer" class="linkLabel_WmDU">Clean Timer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-listeners"><span title="Effect Listeners" class="linkLabel_WmDU">Effect Listeners</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-dependencies"><span title="Dependencies trong Effect" class="linkLabel_WmDU">Dependencies trong Effect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-lifecycle"><span title="Vòng đời Component qua useEffect" class="linkLabel_WmDU">Vòng đời Component qua useEffect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-state"><span title="Có nên update State trong Effect" class="linkLabel_WmDU">Có nên update State trong Effect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-time"><span title="Xây dựng component Clock" class="linkLabel_WmDU">Xây dựng component Clock</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-conditional"><span title="Sử dụng Effect với Conditional" class="linkLabel_WmDU">Sử dụng Effect với Conditional</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/effect-state-events"><span title="Kết hợp Effect, State và Events" class="linkLabel_WmDU">Kết hợp Effect, State và Events</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/blogs/docs/react-js/basic/effect-performance"><span title="Effect &amp; Performance" class="linkLabel_WmDU">Effect &amp; Performance</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/storage"><span title="LocalStorage" class="linkLabel_WmDU">LocalStorage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/storage-object"><span title="Object trong LocalStorage" class="linkLabel_WmDU">Object trong LocalStorage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blogs/docs/react-js/basic/storage-restore"><span title="Khôi phục State từ localStorage" class="linkLabel_WmDU">Khôi phục State từ localStorage</span></a></li></ul></li></ul></nav><button type="button" title="Thu gọn thanh bên" aria-label="Thu gọn thanh bên" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Liên kết điều hướng"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Trang chủ" class="breadcrumbs__link" href="/blogs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/blogs/docs/category/react-basic"><span>React Basic</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Effect &amp; Performance</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Trên trang này</button></div><div class="theme-doc-markdown markdown"><header><h1>Effect &amp; Performance</h1></header>
<p>Chúng ta đã sử dụng <code>useEffect</code> khá nhiều nhưng chưa thực sự tìm hiểu về ảnh hưởng của nó đến hiệu suất.</p>
<p>Hiệu ứng mà bạn lên lịch với <code>useEffect</code> sẽ chạy sau khi component được hiển thị trên DOM, đây là một quyết định thiết kế của nhóm React vì lý do hiệu suất.</p>
<p><img decoding="async" loading="lazy" alt="Create-HTML-1" src="data:image/webp;base64,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" width="864" height="420" class="img_ev3q"></p>
<div class="toc_btn">Ẩn/Hiện mục lục</div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="i-vấn-đề-với-localstorage">I. Vấn đề với localStorage<a href="#i-vấn-đề-với-localstorage" class="hash-link" aria-label="Đường dẫn trực tiếp đến I. Vấn đề với localStorage" title="Đường dẫn trực tiếp đến I. Vấn đề với localStorage" translate="no">​</a></h2>
<p>localStorage (hoặc window.localStorage) là một API của trình duyệt cho phép chúng ta lưu trữ dữ liệu dưới dạng các cặp khóa và giá trị.</p>
<p>Vấn đề với localStorage là nó là một API đồng bộ, tức là:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">localStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;key&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;B&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Trong đoạn code trên, chúng ta sẽ thấy <code>console.log(&quot;A&quot;)</code> được in ra trước, sau đó, nếu <code>localStorage.setItem()</code> mất 200 mili giây để hoàn thành thì <code>console.log(&quot;B&quot;)</code> sẽ phải đợi <code>localStorage.setItem()</code> hoàn thành trước khi nó được gọi.</p>
<p>Hành vi này không tốt vì nó có thể làm chậm ứng dụng ngay lập tức.</p>
<p>Nếu bạn chỉ cần lưu trữ một vài mục thì việc sử dụng <code>localStorage</code> là chấp nhận được, nhưng nói chung, bạn không nên sử dụng quá thường xuyên do nó sẽ làm chậm đáng kể hiệu suất của ứng dụng.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ii-localstorage-trong-react">II. localStorage trong React<a href="#ii-localstorage-trong-react" class="hash-link" aria-label="Đường dẫn trực tiếp đến II. localStorage trong React" title="Đường dẫn trực tiếp đến II. localStorage trong React" translate="no">​</a></h2>
<p>Giả sử bạn muốn gọi <code>localStorage</code> trong một component React;</p>
<p>Bạn nên làm điều đó bên trong <code>useEffect</code> vì hai lý do sau:</p>
<ul>
<li class="">
<p>Đó là hiệu ứng phụ (nó thay đổi cái gì đó bên ngoài component React)</p>
</li>
<li class="">
<p>Hiệu suất của ứng dụng.</p>
</li>
</ul>
<p>Để minh họa lý do tại sao việc sử dụng localStorage có thể làm chậm hiệu suất, bạn tạo một mảng đối tượng lớn trong data.js, sau đó chúng ta sẽ thêm và lưu mảng này vào localStorage trong một component React.</p>
<p>Chương trình như sau:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useState</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">data</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./data.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setRandom</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// THIS IS BAD FOR PERFORMANCE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">localStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Re-render</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Vấn đề với đoạn code trên là nếu <code>localStorage.setItem()</code> mất 200ms để hoàn thành, điều này sẽ làm chậm việc hiển thị cập nhật các trên màn hình của người dùng, dẫn đến hiệu suất không tốt.</p>
<p>Để minh họa rõ hơn ảnh hưởng của việc sử dụng <code>localStorage</code> đối với hiệu suất, chúng ta sẽ tăng số lượng lên thành 200 cuộc gọi <code>localStorage.setItem()</code> và <code>localStorage.getItem()</code>.</p>
<p>Sau đó, ta tạo một phiên bản tối ưu hóa bằng cách đặt 200 cuộc gọi localStorage bên trong một useEffect như sau:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useState</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useEffect</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">data</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./data.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setRandom</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// this is BETTER for performance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token dom variable" style="color:#36acaa">localStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Re-render</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Bằng cách đóng gói các cuộc gọi <code>localStorage</code> bằng <code>useEffect</code>, chúng ta cho phép component được hiển thị trên màn hình trước và thực hiện các cuộc gọi <code>localStorage</code> sau khi component đã được hiển thị.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tóm lại</div><div class="admonitionContent_BuS1"><p><code>useEffect</code> không phải là một giải pháp tuyệt đối hoàn hảo, nếu code bên trong <code>useEffect</code> thực sự chạy chậm thì hiệu suất vẫn có thể bị ảnh hưởng.</p><p><code>localStorage</code> chỉ nên được sử dụng cho việc đọc/ghi dữ liệu có kích thước nhỏ và nó nên được đóng gói bằng <code>useEffect</code></p><p>Hiệu ứng mà bạn lên lịch với <code>useEffect</code> sẽ chạy sau khi component được hiển thị trên DOM.</p></div></div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/lo-tdnXb4WM?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="faq---câu-hỏi-thường-gặp-khi-phỏng-vấn">FAQ - Câu hỏi thường gặp khi phỏng vấn<a href="#faq---câu-hỏi-thường-gặp-khi-phỏng-vấn" class="hash-link" aria-label="Đường dẫn trực tiếp đến FAQ - Câu hỏi thường gặp khi phỏng vấn" title="Đường dẫn trực tiếp đến FAQ - Câu hỏi thường gặp khi phỏng vấn" translate="no">​</a></h2>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="câu-1-localstorage-là-gì">Câu 1. localStorage là gì?<a href="#câu-1-localstorage-là-gì" class="hash-link" aria-label="Đường dẫn trực tiếp đến Câu 1. localStorage là gì?" title="Đường dẫn trực tiếp đến Câu 1. localStorage là gì?" translate="no">​</a></h3>
<p>localStorage là một API của trình duyệt cho phép lưu trữ dữ liệu dưới dạng các cặp khóa – giá trị, dữ liệu được lưu lại ngay cả khi reload hoặc đóng trình duyệt.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="câu-2-localstorage-là-api-đồng-bộ-hay-bất-đồng-bộ">Câu 2. localStorage là API đồng bộ hay bất đồng bộ?<a href="#câu-2-localstorage-là-api-đồng-bộ-hay-bất-đồng-bộ" class="hash-link" aria-label="Đường dẫn trực tiếp đến Câu 2. localStorage là API đồng bộ hay bất đồng bộ?" title="Đường dẫn trực tiếp đến Câu 2. localStorage là API đồng bộ hay bất đồng bộ?" translate="no">​</a></h3>
<p>Đồng bộ (synchronous) — nghĩa là các lệnh phía sau phải đợi localStorage hoàn thành trước khi được thực thi.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="câu-3-vấn-đề-hiệu-suất-của-việc-gọi-localstorage-trực-tiếp-trong-quá-trình-render-là-gì">Câu 3. Vấn đề hiệu suất của việc gọi localStorage trực tiếp trong quá trình render là gì?<a href="#câu-3-vấn-đề-hiệu-suất-của-việc-gọi-localstorage-trực-tiếp-trong-quá-trình-render-là-gì" class="hash-link" aria-label="Đường dẫn trực tiếp đến Câu 3. Vấn đề hiệu suất của việc gọi localStorage trực tiếp trong quá trình render là gì?" title="Đường dẫn trực tiếp đến Câu 3. Vấn đề hiệu suất của việc gọi localStorage trực tiếp trong quá trình render là gì?" translate="no">​</a></h3>
<p>Nó có thể làm chậm quá trình render UI, khiến người dùng phải chờ lâu hơn để thấy nội dung trên màn hình.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="câu-4-tại-sao-nên-gọi-localstorage-bên-trong-useeffect">Câu 4. Tại sao nên gọi localStorage bên trong useEffect?<a href="#câu-4-tại-sao-nên-gọi-localstorage-bên-trong-useeffect" class="hash-link" aria-label="Đường dẫn trực tiếp đến Câu 4. Tại sao nên gọi localStorage bên trong useEffect?" title="Đường dẫn trực tiếp đến Câu 4. Tại sao nên gọi localStorage bên trong useEffect?" translate="no">​</a></h3>
<p>Vì đây là hiệu ứng phụ (side effect), thay đổi dữ liệu bên ngoài React component.</p>
<p>Để tránh chặn quá trình render — useEffect chạy sau khi DOM đã được cập nhật, giúp UI hiển thị nhanh hơn.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="câu-5-điều-gì-xảy-ra-nếu-gọi-localstoragesetitem-trực-tiếp-trong-phần-thân-component">Câu 5. Điều gì xảy ra nếu gọi localStorage.setItem() trực tiếp trong phần thân component?<a href="#câu-5-điều-gì-xảy-ra-nếu-gọi-localstoragesetitem-trực-tiếp-trong-phần-thân-component" class="hash-link" aria-label="Đường dẫn trực tiếp đến Câu 5. Điều gì xảy ra nếu gọi localStorage.setItem() trực tiếp trong phần thân component?" title="Đường dẫn trực tiếp đến Câu 5. Điều gì xảy ra nếu gọi localStorage.setItem() trực tiếp trong phần thân component?" translate="no">​</a></h3>
<p>Nó sẽ chạy mỗi lần render, làm chậm UI nếu dữ liệu lớn hoặc gọi nhiều lần liên tiếp.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Trang tài liệu"><a class="pagination-nav__link pagination-nav__link--prev" href="/blogs/docs/react-js/basic/effect-state-events"><div class="pagination-nav__sublabel">Trước</div><div class="pagination-nav__label">Kết hợp Effect, State và Events</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blogs/docs/react-js/basic/storage"><div class="pagination-nav__sublabel">Kế tiếp</div><div class="pagination-nav__label">LocalStorage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#i-vấn-đề-với-localstorage" class="table-of-contents__link toc-highlight">I. Vấn đề với localStorage</a></li><li><a href="#ii-localstorage-trong-react" class="table-of-contents__link toc-highlight">II. localStorage trong React</a></li><li><a href="#faq---câu-hỏi-thường-gặp-khi-phỏng-vấn" class="table-of-contents__link toc-highlight">FAQ - Câu hỏi thường gặp khi phỏng vấn</a><ul><li><a href="#câu-1-localstorage-là-gì" class="table-of-contents__link toc-highlight">Câu 1. localStorage là gì?</a></li><li><a href="#câu-2-localstorage-là-api-đồng-bộ-hay-bất-đồng-bộ" class="table-of-contents__link toc-highlight">Câu 2. localStorage là API đồng bộ hay bất đồng bộ?</a></li><li><a href="#câu-3-vấn-đề-hiệu-suất-của-việc-gọi-localstorage-trực-tiếp-trong-quá-trình-render-là-gì" class="table-of-contents__link toc-highlight">Câu 3. Vấn đề hiệu suất của việc gọi localStorage trực tiếp trong quá trình render là gì?</a></li><li><a href="#câu-4-tại-sao-nên-gọi-localstorage-bên-trong-useeffect" class="table-of-contents__link toc-highlight">Câu 4. Tại sao nên gọi localStorage bên trong useEffect?</a></li><li><a href="#câu-5-điều-gì-xảy-ra-nếu-gọi-localstoragesetitem-trực-tiếp-trong-phần-thân-component" class="table-of-contents__link toc-highlight">Câu 5. Điều gì xảy ra nếu gọi localStorage.setItem() trực tiếp trong phần thân component?</a></li></ul></li></ul></div></div></div><div style="text-align:right"><button class="favorite">🤍 Yêu thích</button></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://huudinh.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Frameworks Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/blogs/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://youtube.com/huudinh" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://facebook.com/huudinh85" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://tiktok.com/@thaygiaofrontend" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tiktok<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blogs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/huudinh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Frontend Developer Blogs, Inc. Built with DinhTrieu.</div></div></div></footer></div>
</body>
</html>